import{j as s,R as S,r as E,S as lt}from"./radix-vendor-DXnqCESz.js";import{k as re,L as ct,j as ot,C as xe,e as he,S as Be,f as ze,g as qe,h as $e,i as de,q as dt,n as ut,l as be,b as Ne,c as we,T as ft,r as mt,s as xt,t as ht,B as _e,I as ge,D as gt,v as yt,w as pt,x as vt,y as jt,z as bt,A as Nt,E as wt,u as Me}from"./index-DHeBa6N9.js";import{P as We}from"./progress-05Dja7FS.js";import{B as _t,D as St,I as Ft,J as Vt,w as At,j as bs,d as Ns,R as kt,L as He,K as Ct,N as ws,C as Dt,r as Et,O as Tt,Z as _s,Q as Mt,V as Pt,k as It,W as Ot,Y as Ss,_ as Rt,$ as Lt,a0 as Ut,a1 as is,a2 as ns,a3 as Fs,a4 as Bt,P as zt}from"./icons-vendor-4PzZcNxV.js";import"./react-vendor-BS3SOam5.js";import"./utils-vendor-CbK4XRml.js";import"./date-vendor-Cb250gQT.js";function qt({className:e,...a}){return s.jsx("textarea",{"data-slot":"textarea",className:re("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}var Le=e=>e.type==="checkbox",Ce=e=>e instanceof Date,Q=e=>e==null;const Rs=e=>typeof e=="object";var I=e=>!Q(e)&&!Array.isArray(e)&&Rs(e)&&!Ce(e),Ls=e=>I(e)&&e.target?Le(e.target)?e.target.checked:e.target.value:e,$t=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Us=(e,a)=>e.has($t(a)),Wt=e=>{const a=e.constructor&&e.constructor.prototype;return I(a)&&a.hasOwnProperty("isPrototypeOf")},os=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function z(e){let a;const t=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(e instanceof Set)a=new Set(e);else if(!(os&&(e instanceof Blob||n))&&(t||I(e)))if(a=t?[]:{},!t&&!Wt(e))a=e;else for(const l in e)e.hasOwnProperty(l)&&(a[l]=z(e[l]));else return e;return a}var Ze=e=>Array.isArray(e)?e.filter(Boolean):[],P=e=>e===void 0,x=(e,a,t)=>{if(!a||!I(e))return t;const n=Ze(a.split(/[,[\].]+?/)).reduce((l,c)=>Q(l)?l:l[c],e);return P(n)||n===e?P(e[a])?t:e[a]:n},te=e=>typeof e=="boolean",ds=e=>/^\w*$/.test(e),Bs=e=>Ze(e.replace(/["|']|\]/g,"").split(/\.|\[/)),A=(e,a,t)=>{let n=-1;const l=ds(a)?[a]:Bs(a),c=l.length,m=c-1;for(;++n<c;){const g=l[n];let N=t;if(n!==m){const T=e[g];N=I(T)||Array.isArray(T)?T:isNaN(+l[n+1])?{}:[]}if(g==="__proto__"||g==="constructor"||g==="prototype")return;e[g]=N,e=e[g]}};const Qe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ne={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ue={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},zs=S.createContext(null),Xe=()=>S.useContext(zs),Ht=e=>{const{children:a,...t}=e;return S.createElement(zs.Provider,{value:t},a)};var qs=(e,a,t,n=!0)=>{const l={defaultValues:a._defaultValues};for(const c in e)Object.defineProperty(l,c,{get:()=>{const m=c;return a._proxyFormState[m]!==ne.all&&(a._proxyFormState[m]=!n||ne.all),t&&(t[m]=!0),e[m]}});return l};function $s(e){const a=Xe(),{control:t=a.control,disabled:n,name:l,exact:c}=e||{},[m,g]=S.useState(t._formState),N=S.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),T=S.useRef(l);return T.current=l,S.useEffect(()=>t._subscribe({name:T.current,formState:N.current,exact:c,callback:_=>{!n&&g({...t._formState,..._})}}),[t,n,c]),S.useEffect(()=>{N.current.isValid&&t._setValid(!0)},[t]),S.useMemo(()=>qs(m,t,N.current,!1),[m,t])}var oe=e=>typeof e=="string",Ws=(e,a,t,n,l)=>oe(e)?(n&&a.watch.add(e),x(t,e,l)):Array.isArray(e)?e.map(c=>(n&&a.watch.add(c),x(t,c))):(n&&(a.watchAll=!0),t);function Jt(e){const a=Xe(),{control:t=a.control,name:n,defaultValue:l,disabled:c,exact:m}=e||{},g=S.useRef(n),N=S.useRef(l);g.current=n,S.useEffect(()=>t._subscribe({name:g.current,formState:{values:!0},exact:m,callback:V=>!c&&_(Ws(g.current,t._names,V.values||t._formValues,!1,N.current))}),[t,c,m]);const[T,_]=S.useState(t._getWatch(n,l));return S.useEffect(()=>t._removeUnmounted()),T}function Qt(e){const a=Xe(),{name:t,disabled:n,control:l=a.control,shouldUnregister:c}=e,m=Us(l._names.array,t),g=Jt({control:l,name:t,defaultValue:x(l._formValues,t,x(l._defaultValues,t,e.defaultValue)),exact:!0}),N=$s({control:l,name:t,exact:!0}),T=S.useRef(e),_=S.useRef(l.register(t,{...e.rules,value:g,...te(e.disabled)?{disabled:e.disabled}:{}})),V=S.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!x(N.errors,t)},isDirty:{enumerable:!0,get:()=>!!x(N.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!x(N.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!x(N.validatingFields,t)},error:{enumerable:!0,get:()=>x(N.errors,t)}}),[N,t]),j=S.useCallback(C=>_.current.onChange({target:{value:Ls(C),name:t},type:Qe.CHANGE}),[t]),ae=S.useCallback(()=>_.current.onBlur({target:{value:x(l._formValues,t),name:t},type:Qe.BLUR}),[t,l._formValues]),G=S.useCallback(C=>{const B=x(l._fields,t);B&&C&&(B._f.ref={focus:()=>C.focus(),select:()=>C.select(),setCustomValidity:v=>C.setCustomValidity(v),reportValidity:()=>C.reportValidity()})},[l._fields,t]),O=S.useMemo(()=>({name:t,value:g,...te(n)||N.disabled?{disabled:N.disabled||n}:{},onChange:j,onBlur:ae,ref:G}),[t,n,N.disabled,j,ae,G,g]);return S.useEffect(()=>{const C=l._options.shouldUnregister||c;l.register(t,{...T.current.rules,...te(T.current.disabled)?{disabled:T.current.disabled}:{}});const B=(v,K)=>{const Y=x(l._fields,v);Y&&Y._f&&(Y._f.mount=K)};if(B(t,!0),C){const v=z(x(l._options.defaultValues,t));A(l._defaultValues,t,v),P(x(l._formValues,t))&&A(l._formValues,t,v)}return!m&&l.register(t),()=>{(m?C&&!l._state.action:C)?l.unregister(t):B(t,!1)}},[t,l,m,c]),S.useEffect(()=>{l._setDisabledField({disabled:n,name:t})},[n,t,l]),S.useMemo(()=>({field:O,formState:N,fieldState:V}),[O,N,V])}const Gt=e=>e.render(Qt(e));var Kt=(e,a,t,n,l)=>a?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:l||!0}}:{},Oe=e=>Array.isArray(e)?e:[e],Vs=()=>{let e=[];return{get observers(){return e},next:l=>{for(const c of e)c.next&&c.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(c=>c!==l)}}),unsubscribe:()=>{e=[]}}},cs=e=>Q(e)||!Rs(e);function pe(e,a){if(cs(e)||cs(a))return e===a;if(Ce(e)&&Ce(a))return e.getTime()===a.getTime();const t=Object.keys(e),n=Object.keys(a);if(t.length!==n.length)return!1;for(const l of t){const c=e[l];if(!n.includes(l))return!1;if(l!=="ref"){const m=a[l];if(Ce(c)&&Ce(m)||I(c)&&I(m)||Array.isArray(c)&&Array.isArray(m)?!pe(c,m):c!==m)return!1}}return!0}var J=e=>I(e)&&!Object.keys(e).length,us=e=>e.type==="file",le=e=>typeof e=="function",Ge=e=>{if(!os)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},Hs=e=>e.type==="select-multiple",fs=e=>e.type==="radio",Yt=e=>fs(e)||Le(e),ls=e=>Ge(e)&&e.isConnected;function Zt(e,a){const t=a.slice(0,-1).length;let n=0;for(;n<t;)e=P(e)?n++:e[a[n++]];return e}function Xt(e){for(const a in e)if(e.hasOwnProperty(a)&&!P(e[a]))return!1;return!0}function U(e,a){const t=Array.isArray(a)?a:ds(a)?[a]:Bs(a),n=t.length===1?e:Zt(e,t),l=t.length-1,c=t[l];return n&&delete n[c],l!==0&&(I(n)&&J(n)||Array.isArray(n)&&Xt(n))&&U(e,t.slice(0,-1)),e}var Js=e=>{for(const a in e)if(le(e[a]))return!0;return!1};function Ke(e,a={}){const t=Array.isArray(e);if(I(e)||t)for(const n in e)Array.isArray(e[n])||I(e[n])&&!Js(e[n])?(a[n]=Array.isArray(e[n])?[]:{},Ke(e[n],a[n])):Q(e[n])||(a[n]=!0);return a}function Qs(e,a,t){const n=Array.isArray(e);if(I(e)||n)for(const l in e)Array.isArray(e[l])||I(e[l])&&!Js(e[l])?P(a)||cs(t[l])?t[l]=Array.isArray(e[l])?Ke(e[l],[]):{...Ke(e[l])}:Qs(e[l],Q(a)?{}:a[l],t[l]):t[l]=!pe(e[l],a[l]);return t}var Pe=(e,a)=>Qs(e,a,Ke(a));const As={value:!1,isValid:!1},ks={value:!0,isValid:!0};var Gs=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!P(e[0].attributes.value)?P(e[0].value)||e[0].value===""?ks:{value:e[0].value,isValid:!0}:ks:As}return As},Ks=(e,{valueAsNumber:a,valueAsDate:t,setValueAs:n})=>P(e)?e:a?e===""?NaN:e&&+e:t&&oe(e)?new Date(e):n?n(e):e;const Cs={isValid:!1,value:null};var Ys=e=>Array.isArray(e)?e.reduce((a,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:a,Cs):Cs;function Ds(e){const a=e.ref;return us(a)?a.files:fs(a)?Ys(e.refs).value:Hs(a)?[...a.selectedOptions].map(({value:t})=>t):Le(a)?Gs(e.refs).value:Ks(P(a.value)?e.ref.value:a.value,e)}var er=(e,a,t,n)=>{const l={};for(const c of e){const m=x(a,c);m&&A(l,c,m._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:n}},Ye=e=>e instanceof RegExp,Ie=e=>P(e)?e:Ye(e)?e.source:I(e)?Ye(e.value)?e.value.source:e.value:e,Es=e=>({isOnSubmit:!e||e===ne.onSubmit,isOnBlur:e===ne.onBlur,isOnChange:e===ne.onChange,isOnAll:e===ne.all,isOnTouch:e===ne.onTouched});const Ts="AsyncFunction";var sr=e=>!!e&&!!e.validate&&!!(le(e.validate)&&e.validate.constructor.name===Ts||I(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===Ts)),tr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ms=(e,a,t)=>!t&&(a.watchAll||a.watch.has(e)||[...a.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Re=(e,a,t,n)=>{for(const l of t||Object.keys(e)){const c=x(e,l);if(c){const{_f:m,...g}=c;if(m){if(m.refs&&m.refs[0]&&a(m.refs[0],l)&&!n)return!0;if(m.ref&&a(m.ref,m.name)&&!n)return!0;if(Re(g,a))break}else if(I(g)&&Re(g,a))break}}};function Ps(e,a,t){const n=x(e,t);if(n||ds(t))return{error:n,name:t};const l=t.split(".");for(;l.length;){const c=l.join("."),m=x(a,c),g=x(e,c);if(m&&!Array.isArray(m)&&t!==c)return{name:t};if(g&&g.type)return{name:c,error:g};l.pop()}return{name:t}}var rr=(e,a,t,n)=>{t(e);const{name:l,...c}=e;return J(c)||Object.keys(c).length>=Object.keys(a).length||Object.keys(c).find(m=>a[m]===(!n||ne.all))},ar=(e,a,t)=>!e||!a||e===a||Oe(e).some(n=>n&&(t?n===a:n.startsWith(a)||a.startsWith(n))),ir=(e,a,t,n,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(a||e):(t?n.isOnBlur:l.isOnBlur)?!e:(t?n.isOnChange:l.isOnChange)?e:!0,nr=(e,a)=>!Ze(x(e,a)).length&&U(e,a),lr=(e,a,t)=>{const n=Oe(x(e,t));return A(n,"root",a[t]),A(e,t,n),e},Je=e=>oe(e);function Is(e,a,t="validate"){if(Je(e)||Array.isArray(e)&&e.every(Je)||te(e)&&!e)return{type:t,message:Je(e)?e:"",ref:a}}var Ee=e=>I(e)&&!Ye(e)?e:{value:e,message:""},Os=async(e,a,t,n,l,c)=>{const{ref:m,refs:g,required:N,maxLength:T,minLength:_,min:V,max:j,pattern:ae,validate:G,name:O,valueAsNumber:C,mount:B}=e._f,v=x(t,O);if(!B||a.has(O))return{};const K=g?g[0]:m,Y=w=>{l&&K.reportValidity&&(K.setCustomValidity(te(w)?"":w||""),K.reportValidity())},M={},fe=fs(m),ve=Le(m),Te=fe||ve,X=(C||us(m))&&P(m.value)&&P(v)||Ge(m)&&m.value===""||v===""||Array.isArray(v)&&!v.length,D=Kt.bind(null,O,n,M),Z=(w,b,k,q=ue.maxLength,W=ue.minLength)=>{const ee=w?b:k;M[O]={type:w?q:W,message:ee,ref:m,...D(w?q:W,ee)}};if(c?!Array.isArray(v)||!v.length:N&&(!Te&&(X||Q(v))||te(v)&&!v||ve&&!Gs(g).isValid||fe&&!Ys(g).isValid)){const{value:w,message:b}=Je(N)?{value:!!N,message:N}:Ee(N);if(w&&(M[O]={type:ue.required,message:b,ref:K,...D(ue.required,b)},!n))return Y(b),M}if(!X&&(!Q(V)||!Q(j))){let w,b;const k=Ee(j),q=Ee(V);if(!Q(v)&&!isNaN(v)){const W=m.valueAsNumber||v&&+v;Q(k.value)||(w=W>k.value),Q(q.value)||(b=W<q.value)}else{const W=m.valueAsDate||new Date(v),ee=De=>new Date(new Date().toDateString()+" "+De),ce=m.type=="time",je=m.type=="week";oe(k.value)&&v&&(w=ce?ee(v)>ee(k.value):je?v>k.value:W>new Date(k.value)),oe(q.value)&&v&&(b=ce?ee(v)<ee(q.value):je?v<q.value:W<new Date(q.value))}if((w||b)&&(Z(!!w,k.message,q.message,ue.max,ue.min),!n))return Y(M[O].message),M}if((T||_)&&!X&&(oe(v)||c&&Array.isArray(v))){const w=Ee(T),b=Ee(_),k=!Q(w.value)&&v.length>+w.value,q=!Q(b.value)&&v.length<+b.value;if((k||q)&&(Z(k,w.message,b.message),!n))return Y(M[O].message),M}if(ae&&!X&&oe(v)){const{value:w,message:b}=Ee(ae);if(Ye(w)&&!v.match(w)&&(M[O]={type:ue.pattern,message:b,ref:m,...D(ue.pattern,b)},!n))return Y(b),M}if(G){if(le(G)){const w=await G(v,t),b=Is(w,K);if(b&&(M[O]={...b,...D(ue.validate,b.message)},!n))return Y(b.message),M}else if(I(G)){let w={};for(const b in G){if(!J(w)&&!n)break;const k=Is(await G[b](v,t),K,b);k&&(w={...k,...D(b,k.message)},Y(k.message),n&&(M[O]=w))}if(!J(w)&&(M[O]={ref:K,...w},!n))return M}}return Y(!0),M};const cr={mode:ne.onSubmit,reValidateMode:ne.onChange,shouldFocusError:!0};function or(e={}){let a={...cr,...e},t={submitCount:0,isDirty:!1,isLoading:le(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1};const n={};let l=I(a.defaultValues)||I(a.values)?z(a.values||a.defaultValues)||{}:{},c=a.shouldUnregister?{}:z(l),m={action:!1,mount:!1,watch:!1},g={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},N,T=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let V={..._};const j={array:Vs(),state:Vs()},ae=Es(a.mode),G=Es(a.reValidateMode),O=a.criteriaMode===ne.all,C=r=>i=>{clearTimeout(T),T=setTimeout(r,i)},B=async r=>{if(!a.disabled&&(_.isValid||V.isValid||r)){const i=a.resolver?J((await X()).errors):await Z(n,!0);i!==t.isValid&&j.state.next({isValid:i})}},v=(r,i)=>{!a.disabled&&(_.isValidating||_.validatingFields||V.isValidating||V.validatingFields)&&((r||Array.from(g.mount)).forEach(o=>{o&&(i?A(t.validatingFields,o,i):U(t.validatingFields,o))}),j.state.next({validatingFields:t.validatingFields,isValidating:!J(t.validatingFields)}))},K=(r,i=[],o,h,f=!0,u=!0)=>{if(h&&o&&!a.disabled){if(m.action=!0,u&&Array.isArray(x(n,r))){const p=o(x(n,r),h.argA,h.argB);f&&A(n,r,p)}if(u&&Array.isArray(x(t.errors,r))){const p=o(x(t.errors,r),h.argA,h.argB);f&&A(t.errors,r,p),nr(t.errors,r)}if((_.touchedFields||V.touchedFields)&&u&&Array.isArray(x(t.touchedFields,r))){const p=o(x(t.touchedFields,r),h.argA,h.argB);f&&A(t.touchedFields,r,p)}(_.dirtyFields||V.dirtyFields)&&(t.dirtyFields=Pe(l,c)),j.state.next({name:r,isDirty:b(r,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(c,r,i)},Y=(r,i)=>{A(t.errors,r,i),j.state.next({errors:t.errors})},M=r=>{t.errors=r,j.state.next({errors:t.errors,isValid:!1})},fe=(r,i,o,h)=>{const f=x(n,r);if(f){const u=x(c,r,P(o)?x(l,r):o);P(u)||h&&h.defaultChecked||i?A(c,r,i?u:Ds(f._f)):W(r,u),m.mount&&B()}},ve=(r,i,o,h,f)=>{let u=!1,p=!1;const F={name:r};if(!a.disabled){if(!o||h){(_.isDirty||V.isDirty)&&(p=t.isDirty,t.isDirty=F.isDirty=b(),u=p!==F.isDirty);const L=pe(x(l,r),i);p=!!x(t.dirtyFields,r),L?U(t.dirtyFields,r):A(t.dirtyFields,r,!0),F.dirtyFields=t.dirtyFields,u=u||(_.dirtyFields||V.dirtyFields)&&p!==!L}if(o){const L=x(t.touchedFields,r);L||(A(t.touchedFields,r,o),F.touchedFields=t.touchedFields,u=u||(_.touchedFields||V.touchedFields)&&L!==o)}u&&f&&j.state.next(F)}return u?F:{}},Te=(r,i,o,h)=>{const f=x(t.errors,r),u=(_.isValid||V.isValid)&&te(i)&&t.isValid!==i;if(a.delayError&&o?(N=C(()=>Y(r,o)),N(a.delayError)):(clearTimeout(T),N=null,o?A(t.errors,r,o):U(t.errors,r)),(o?!pe(f,o):f)||!J(h)||u){const p={...h,...u&&te(i)?{isValid:i}:{},errors:t.errors,name:r};t={...t,...p},j.state.next(p)}},X=async r=>{v(r,!0);const i=await a.resolver(c,a.context,er(r||g.mount,n,a.criteriaMode,a.shouldUseNativeValidation));return v(r),i},D=async r=>{const{errors:i}=await X(r);if(r)for(const o of r){const h=x(i,o);h?A(t.errors,o,h):U(t.errors,o)}else t.errors=i;return i},Z=async(r,i,o={valid:!0})=>{for(const h in r){const f=r[h];if(f){const{_f:u,...p}=f;if(u){const F=g.array.has(u.name),L=f._f&&sr(f._f);L&&_.validatingFields&&v([h],!0);const $=await Os(f,g.disabled,c,O,a.shouldUseNativeValidation&&!i,F);if(L&&_.validatingFields&&v([h]),$[u.name]&&(o.valid=!1,i))break;!i&&(x($,u.name)?F?lr(t.errors,$,u.name):A(t.errors,u.name,$[u.name]):U(t.errors,u.name))}!J(p)&&await Z(p,i,o)}}return o.valid},w=()=>{for(const r of g.unMount){const i=x(n,r);i&&(i._f.refs?i._f.refs.every(o=>!ls(o)):!ls(i._f.ref))&&ss(r)}g.unMount=new Set},b=(r,i)=>!a.disabled&&(r&&i&&A(c,r,i),!pe(H(),l)),k=(r,i,o)=>Ws(r,g,{...m.mount?c:P(i)?l:oe(r)?{[r]:i}:i},o,i),q=r=>Ze(x(m.mount?c:l,r,a.shouldUnregister?x(l,r,[]):[])),W=(r,i,o={})=>{const h=x(n,r);let f=i;if(h){const u=h._f;u&&(!u.disabled&&A(c,r,Ks(i,u)),f=Ge(u.ref)&&Q(i)?"":i,Hs(u.ref)?[...u.ref.options].forEach(p=>p.selected=f.includes(p.value)):u.refs?Le(u.ref)?u.refs.length>1?u.refs.forEach(p=>(!p.defaultChecked||!p.disabled)&&(p.checked=Array.isArray(f)?!!f.find(F=>F===p.value):f===p.value)):u.refs[0]&&(u.refs[0].checked=!!f):u.refs.forEach(p=>p.checked=p.value===f):us(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||j.state.next({name:r,values:z(c)})))}(o.shouldDirty||o.shouldTouch)&&ve(r,f,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&Ue(r)},ee=(r,i,o)=>{for(const h in i){const f=i[h],u=`${r}.${h}`,p=x(n,u);(g.array.has(r)||I(f)||p&&!p._f)&&!Ce(f)?ee(u,f,o):W(u,f,o)}},ce=(r,i,o={})=>{const h=x(n,r),f=g.array.has(r),u=z(i);A(c,r,u),f?(j.array.next({name:r,values:z(c)}),(_.isDirty||_.dirtyFields||V.isDirty||V.dirtyFields)&&o.shouldDirty&&j.state.next({name:r,dirtyFields:Pe(l,c),isDirty:b(r,u)})):h&&!h._f&&!Q(u)?ee(r,u,o):W(r,u,o),Ms(r,g)&&j.state.next({...t}),j.state.next({name:m.mount?r:void 0,values:z(c)})},je=async r=>{m.mount=!0;const i=r.target;let o=i.name,h=!0;const f=x(n,o),u=p=>{h=Number.isNaN(p)||Ce(p)&&isNaN(p.getTime())||pe(p,x(c,o,p))};if(f){let p,F;const L=i.type?Ds(f._f):Ls(r),$=r.type===Qe.BLUR||r.type===Qe.FOCUS_OUT,at=!tr(f._f)&&!a.resolver&&!x(t.errors,o)&&!f._f.deps||ir($,x(t.touchedFields,o),t.isSubmitted,G,ae),rs=Ms(o,g,$);A(c,o,L),$?(f._f.onBlur&&f._f.onBlur(r),N&&N(0)):f._f.onChange&&f._f.onChange(r);const as=ve(o,L,$),it=!J(as)||rs;if(!$&&j.state.next({name:o,type:r.type,values:z(c)}),at)return(_.isValid||V.isValid)&&(a.mode==="onBlur"?$&&B():$||B()),it&&j.state.next({name:o,...rs?{}:as});if(!$&&rs&&j.state.next({...t}),a.resolver){const{errors:vs}=await X([o]);if(u(L),h){const nt=Ps(t.errors,n,o),js=Ps(vs,n,nt.name||o);p=js.error,o=js.name,F=J(vs)}}else v([o],!0),p=(await Os(f,g.disabled,c,O,a.shouldUseNativeValidation))[o],v([o]),u(L),h&&(p?F=!1:(_.isValid||V.isValid)&&(F=await Z(n,!0)));h&&(f._f.deps&&Ue(f._f.deps),Te(o,F,p,as))}},De=(r,i)=>{if(x(t.errors,i)&&r.focus)return r.focus(),1},Ue=async(r,i={})=>{let o,h;const f=Oe(r);if(a.resolver){const u=await D(P(r)?r:f);o=J(u),h=r?!f.some(p=>x(u,p)):o}else r?(h=(await Promise.all(f.map(async u=>{const p=x(n,u);return await Z(p&&p._f?{[u]:p}:p)}))).every(Boolean),!(!h&&!t.isValid)&&B()):h=o=await Z(n);return j.state.next({...!oe(r)||(_.isValid||V.isValid)&&o!==t.isValid?{}:{name:r},...a.resolver||!r?{isValid:o}:{},errors:t.errors}),i.shouldFocus&&!h&&Re(n,De,r?f:g.mount),h},H=r=>{const i={...m.mount?c:l};return P(r)?i:oe(r)?x(i,r):r.map(o=>x(i,o))},d=(r,i)=>({invalid:!!x((i||t).errors,r),isDirty:!!x((i||t).dirtyFields,r),error:x((i||t).errors,r),isValidating:!!x(t.validatingFields,r),isTouched:!!x((i||t).touchedFields,r)}),y=r=>{r&&Oe(r).forEach(i=>U(t.errors,i)),j.state.next({errors:r?t.errors:{}})},R=(r,i,o)=>{const h=(x(n,r,{_f:{}})._f||{}).ref,f=x(t.errors,r)||{},{ref:u,message:p,type:F,...L}=f;A(t.errors,r,{...L,...i,ref:h}),j.state.next({name:r,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&h&&h.focus&&h.focus()},ie=(r,i)=>le(r)?j.state.subscribe({next:o=>r(k(void 0,i),o)}):k(r,i,!0),me=r=>j.state.subscribe({next:i=>{ar(r.name,i.name,r.exact)&&rr(i,r.formState||_,rt,r.reRenderRoot)&&r.callback({values:{...c},...t,...i})}}).unsubscribe,se=r=>(m.mount=!0,V={...V,...r.formState},me({...r,formState:V})),ss=(r,i={})=>{for(const o of r?Oe(r):g.mount)g.mount.delete(o),g.array.delete(o),i.keepValue||(U(n,o),U(c,o)),!i.keepError&&U(t.errors,o),!i.keepDirty&&U(t.dirtyFields,o),!i.keepTouched&&U(t.touchedFields,o),!i.keepIsValidating&&U(t.validatingFields,o),!a.shouldUnregister&&!i.keepDefaultValue&&U(l,o);j.state.next({values:z(c)}),j.state.next({...t,...i.keepDirty?{isDirty:b()}:{}}),!i.keepIsValid&&B()},ms=({disabled:r,name:i})=>{(te(r)&&m.mount||r||g.disabled.has(i))&&(r?g.disabled.add(i):g.disabled.delete(i))},ts=(r,i={})=>{let o=x(n,r);const h=te(i.disabled)||te(a.disabled);return A(n,r,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:r}},name:r,mount:!0,...i}}),g.mount.add(r),o?ms({disabled:te(i.disabled)?i.disabled:a.disabled,name:r}):fe(r,!0,i.value),{...h?{disabled:i.disabled||a.disabled}:{},...a.progressive?{required:!!i.required,min:Ie(i.min),max:Ie(i.max),minLength:Ie(i.minLength),maxLength:Ie(i.maxLength),pattern:Ie(i.pattern)}:{},name:r,onChange:je,onBlur:je,ref:f=>{if(f){ts(r,i),o=x(n,r);const u=P(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,p=Yt(u),F=o._f.refs||[];if(p?F.find(L=>L===u):u===o._f.ref)return;A(n,r,{_f:{...o._f,...p?{refs:[...F.filter(ls),u,...Array.isArray(x(l,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),fe(r,!1,void 0,u)}else o=x(n,r,{}),o._f&&(o._f.mount=!1),(a.shouldUnregister||i.shouldUnregister)&&!(Us(g.array,r)&&m.action)&&g.unMount.add(r)}}},xs=()=>a.shouldFocusError&&Re(n,De,g.mount),et=r=>{te(r)&&(j.state.next({disabled:r}),Re(n,(i,o)=>{const h=x(n,o);h&&(i.disabled=h._f.disabled||r,Array.isArray(h._f.refs)&&h._f.refs.forEach(f=>{f.disabled=h._f.disabled||r}))},0,!1))},hs=(r,i)=>async o=>{let h;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let f=z(c);if(j.state.next({isSubmitting:!0}),a.resolver){const{errors:u,values:p}=await X();t.errors=u,f=p}else await Z(n);if(g.disabled.size)for(const u of g.disabled)A(f,u,void 0);if(U(t.errors,"root"),J(t.errors)){j.state.next({errors:{}});try{await r(f,o)}catch(u){h=u}}else i&&await i({...t.errors},o),xs(),setTimeout(xs);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:J(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},st=(r,i={})=>{x(n,r)&&(P(i.defaultValue)?ce(r,z(x(l,r))):(ce(r,i.defaultValue),A(l,r,z(i.defaultValue))),i.keepTouched||U(t.touchedFields,r),i.keepDirty||(U(t.dirtyFields,r),t.isDirty=i.defaultValue?b(r,z(x(l,r))):b()),i.keepError||(U(t.errors,r),_.isValid&&B()),j.state.next({...t}))},gs=(r,i={})=>{const o=r?z(r):l,h=z(o),f=J(r),u=f?l:h;if(i.keepDefaultValues||(l=o),!i.keepValues){if(i.keepDirtyValues){const p=new Set([...g.mount,...Object.keys(Pe(l,c))]);for(const F of Array.from(p))x(t.dirtyFields,F)?A(u,F,x(c,F)):ce(F,x(u,F))}else{if(os&&P(r))for(const p of g.mount){const F=x(n,p);if(F&&F._f){const L=Array.isArray(F._f.refs)?F._f.refs[0]:F._f.ref;if(Ge(L)){const $=L.closest("form");if($){$.reset();break}}}}for(const p of g.mount)ce(p,x(u,p))}c=z(u),j.array.next({values:{...u}}),j.state.next({values:{...u}})}g={mount:i.keepDirtyValues?g.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!_.isValid||!!i.keepIsValid||!!i.keepDirtyValues,m.watch=!!a.shouldUnregister,j.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:f?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!pe(r,l)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:i.keepDirtyValues?i.keepDefaultValues&&c?Pe(l,c):t.dirtyFields:i.keepDefaultValues&&r?Pe(l,r):i.keepDirty?t.dirtyFields:{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},ys=(r,i)=>gs(le(r)?r(c):r,i),tt=(r,i={})=>{const o=x(n,r),h=o&&o._f;if(h){const f=h.refs?h.refs[0]:h.ref;f.focus&&(f.focus(),i.shouldSelect&&le(f.select)&&f.select())}},rt=r=>{t={...t,...r}},ps={control:{register:ts,unregister:ss,getFieldState:d,handleSubmit:hs,setError:R,_subscribe:me,_runSchema:X,_getWatch:k,_getDirty:b,_setValid:B,_setFieldArray:K,_setDisabledField:ms,_setErrors:M,_getFieldArray:q,_reset:gs,_resetDefaultValues:()=>le(a.defaultValues)&&a.defaultValues().then(r=>{ys(r,a.resetOptions),j.state.next({isLoading:!1})}),_removeUnmounted:w,_disableForm:et,_subjects:j,_proxyFormState:_,get _fields(){return n},get _formValues(){return c},get _state(){return m},set _state(r){m=r},get _defaultValues(){return l},get _names(){return g},set _names(r){g=r},get _formState(){return t},get _options(){return a},set _options(r){a={...a,...r}}},subscribe:se,trigger:Ue,register:ts,handleSubmit:hs,watch:ie,setValue:ce,getValues:H,reset:ys,resetField:st,clearErrors:y,unregister:ss,setError:R,setFocus:tt,getFieldState:d};return{...ps,formControl:ps}}function dr(e={}){const a=S.useRef(void 0),t=S.useRef(void 0),[n,l]=S.useState({isDirty:!1,isValidating:!1,isLoading:le(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:le(e.defaultValues)?void 0:e.defaultValues});a.current||(a.current={...e.formControl?e.formControl:or(e),formState:n},e.formControl&&e.defaultValues&&!le(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const c=a.current.control;return c._options=e,S.useLayoutEffect(()=>c._subscribe({formState:c._proxyFormState,callback:()=>l({...c._formState}),reRenderRoot:!0}),[c]),S.useEffect(()=>c._disableForm(e.disabled),[c,e.disabled]),S.useEffect(()=>{if(c._proxyFormState.isDirty){const m=c._getDirty();m!==n.isDirty&&c._subjects.state.next({isDirty:m})}},[c,n.isDirty]),S.useEffect(()=>{e.values&&!pe(e.values,t.current)?(c._reset(e.values,c._options.resetOptions),t.current=e.values,l(m=>({...m}))):c._resetDefaultValues()},[e.values,c]),S.useEffect(()=>{e.errors&&!J(e.errors)&&c._setErrors(e.errors)},[e.errors,c]),S.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),S.useEffect(()=>{e.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[e.shouldUnregister,c]),a.current.formState=qs(n,c),a.current}const ur=Ht,Zs=E.createContext({}),Se=({...e})=>s.jsx(Zs.Provider,{value:{name:e.name},children:s.jsx(Gt,{...e})}),es=()=>{const e=E.useContext(Zs),a=E.useContext(Xs),{getFieldState:t}=Xe(),n=$s({name:e.name}),l=t(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:c}=a;return{id:c,name:e.name,formItemId:`${c}-form-item`,formDescriptionId:`${c}-form-item-description`,formMessageId:`${c}-form-item-message`,...l}},Xs=E.createContext({});function Fe({className:e,...a}){const t=E.useId();return s.jsx(Xs.Provider,{value:{id:t},children:s.jsx("div",{"data-slot":"form-item",className:re("grid gap-2",e),...a})})}function Ve({className:e,...a}){const{error:t,formItemId:n}=es();return s.jsx(ct,{"data-slot":"form-label","data-error":!!t,className:re("data-[error=true]:text-destructive",e),htmlFor:n,...a})}function Ae({...e}){const{error:a,formItemId:t,formDescriptionId:n,formMessageId:l}=es();return s.jsx(lt,{"data-slot":"form-control",id:t,"aria-describedby":a?`${n} ${l}`:`${n}`,"aria-invalid":!!a,...e})}function fr({className:e,...a}){const{formDescriptionId:t}=es();return s.jsx("p",{"data-slot":"form-description",id:t,className:re("text-muted-foreground text-sm",e),...a})}function ke({className:e,...a}){const{error:t,formMessageId:n}=es(),l=t?String((t==null?void 0:t.message)??""):a.children;return l?s.jsx("p",{"data-slot":"form-message",id:n,className:re("text-destructive text-sm",e),...a,children:l}):null}const mr=[{id:"1",start:0,end:120,type:"intro",title:"Opening Prayer",speaker:"Pastor John",scripture:"",confidence:.95},{id:"2",start:120,end:480,type:"teaching",title:"The Power of Faith",speaker:"Pastor John",scripture:"Hebrews 11:1-6",confidence:.92},{id:"3",start:480,end:900,type:"teaching",title:"Examples of Faith",speaker:"Pastor John",scripture:"Hebrews 11:7-12",confidence:.89},{id:"4",start:900,end:1080,type:"illustration",title:"Personal Story",speaker:"Pastor John",scripture:"",confidence:.88},{id:"5",start:1080,end:1380,type:"application",title:"Living by Faith Today",speaker:"Pastor John",scripture:"James 2:14-17",confidence:.91},{id:"6",start:1380,end:1500,type:"conclusion",title:"Closing Remarks",speaker:"Pastor John",scripture:"",confidence:.94}],xr=["Faith","Grace","Salvation","Obedience","Trust","Miracles"],hr=[{id:"1",name:"Pastor John",role:"Preacher",available:!0},{id:"2",name:"Sarah Miller",role:"Editor",available:!0},{id:"3",name:"Mike Johnson",role:"Reviewer",available:!1},{id:"4",name:"Emily Davis",role:"Uploader",available:!0}],ye=[{id:"component_detection",label:"Component Detection",icon:_t,description:"Identifying sermon segments and audio/video components"},{id:"ai_analysis",label:"AI Analysis",icon:St,description:"Extracting themes, scripture references, and insights"},{id:"quality_check",label:"Quality Check",icon:Ft,description:"Verifying audio/video quality and metadata accuracy"},{id:"team_assignment",label:"Team Assignment",icon:Vt,description:"Assigning team members for review and publishing"}];function _r(){const{files:e,loading:a}=ot(),[t,n]=E.useState(e[0]||null),[l,c]=E.useState(mr),[m,g]=E.useState(new Set(["1","2"])),[N,T]=E.useState(!1),[_,V]=E.useState(0),[j,ae]=E.useState(!1),[G,O]=E.useState(!1),[C,B]=E.useState({currentStage:"quality_check",progress:75,status:"in_progress",message:"Analyzing audio quality metrics..."}),[v,K]=E.useState(!1),[Y,M]=E.useState(null),[fe,ve]=E.useState(hr),[Te,X]=E.useState(!1),D=dr({defaultValues:{title:(t==null?void 0:t.name)||"",speaker:"Pastor John",series:"Faith Series",date:new Date().toISOString().split("T")[0],location:"Main Sanctuary",scripture:[],themes:["Faith","Grace"],tags:["faith","sermon","2024"],description:""}});E.useMemo(()=>{const d=new Set;return l.forEach(y=>{y.type==="teaching"&&d.add("Faith"),y.type==="application"&&d.add("Grace")}),Array.from(d)},[l]);const Z=E.useMemo(()=>l.reduce((d,y)=>d+(y.end-y.start),0),[l]),w=d=>{const y=Math.floor(d/60),R=d%60;return`${y}:${R.toString().padStart(2,"0")}`},b=d=>{const y=new Set(m);y.has(d)?y.delete(d):y.add(d),g(y)},k=d=>{switch(d){case"intro":return"bg-blue-100 border-blue-300";case"teaching":return"bg-green-100 border-green-300";case"illustration":return"bg-purple-100 border-purple-300";case"application":return"bg-orange-100 border-orange-300";case"conclusion":return"bg-gray-100 border-gray-300";default:return"bg-gray-100"}},q=d=>{switch(d){case"intro":return"Introduction";case"teaching":return"Teaching";case"illustration":return"Illustration";case"application":return"Application";case"conclusion":return"Conclusion";default:return d}},W=d=>{const y=ye.findIndex(ie=>ie.id===d),R=ye.findIndex(ie=>ie.id===C.currentStage);return y<R?"completed":y===R?"in_progress":"pending"},ee=E.useCallback(async()=>{if(t!=null&&t.id)try{B(d=>{const y=ye.findIndex(R=>R.id===d.currentStage);return y<ye.length-1&&d.status==="completed"?{...d,currentStage:ye[y+1].id,progress:(y+2)/ye.length*100,status:"in_progress"}:d})}catch(d){console.error("Error fetching processing status:",d)}},[t==null?void 0:t.id]);E.useEffect(()=>{const d=setInterval(ee,5e3);return()=>clearInterval(d)},[ee]);const ce=async d=>{if(!(t!=null&&t.id))return;K(!0),M(d);const y={sermon_web:{label:"Web",icon:s.jsx(is,{className:"w-4 h-4"}),desc:"Optimized for streaming (720p, 2Mbps)",settings:{resolution:"1280x720",bitrate:"2 Mbps",format:"mp4"}},sermon_podcast:{label:"Podcast",icon:s.jsx(ns,{className:"w-4 h-4"}),desc:"Audio-only, RSS feed ready (128kbps)",settings:{bitrate:"128 kbps",format:"mp3",audioOnly:!0}},sermon_archive:{label:"Archive",icon:s.jsx(Fs,{className:"w-4 h-4"}),desc:"Full quality, long-term storage (1080p, 10Mbps)",settings:{resolution:"1920x1080",bitrate:"10 Mbps",format:"mp4",preserveAll:!0}}};try{await new Promise(R=>setTimeout(R,2e3)),Me.success(`Optimization started for ${y[d].label} profile`,{description:y[d].desc})}catch{Me.error("Failed to start optimization")}finally{K(!1),M(null)}},je=(d,y)=>{Me.success(`Assigned team member to ${y}`)},De=async d=>{if(t!=null&&t.id){O(!0);try{await new Promise(y=>setTimeout(y,1e3)),ae(!1),Me.success("Metadata saved successfully")}catch{Me.error("Failed to save metadata")}finally{O(!1)}}};E.useEffect(()=>{(async()=>{X(!0);try{const y=await wt.getAvailability();y&&y.length>0&&ve(y)}catch{console.log("Using mock team data")}finally{X(!1)}})()},[]);const H={audio:{score:92,bitrate:"256 kbps",sampleRate:"48 kHz",clarity:.95,noise:.02},video:{score:88,resolution:"1080p",bitrate:"8 Mbps",frameRate:"30 fps",brightness:.88,contrast:.92},overall:90};return a?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"text-lg text-gray-500",children:"Loading processing UI..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(xe,{children:s.jsx(he,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Be,{value:t==null?void 0:t.id,onValueChange:d=>n(e.find(y=>y.id===d)||null),children:[s.jsx(ze,{className:"w-[300px]",children:s.jsx(qe,{placeholder:"Select a sermon"})}),s.jsx($e,{children:e.map(d=>s.jsx(de,{value:d.id,children:d.name},d.id))})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(At,{className:"w-4 h-4"}),dt(Z)]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(bs,{className:"w-4 h-4"}),ut((t==null?void 0:t.size)||0)]}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsxs(be,{variant:"secondary",className:"gap-1",children:[s.jsx(Ns,{className:"w-3 h-3 text-green-500"}),"AI Processed"]}),s.jsxs(be,{variant:"outline",children:[Math.round(H.overall),"% Quality"]})]})]})})}),s.jsxs(xe,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(we,{className:"text-lg flex items-center gap-2",children:[s.jsx(kt,{className:"w-5 h-5"}),"Processing Timeline"]})}),s.jsx(he,{children:s.jsxs(ft,{value:C.currentStage,className:"w-full",children:[s.jsx(mt,{className:"grid w-full grid-cols-4",children:ye.map(d=>{const y=W(d.id),R=d.icon;return s.jsxs(xt,{value:d.id,className:"flex items-center gap-2",disabled:y==="completed",children:[s.jsx(R,{className:re("w-4 h-4",y==="completed"&&"text-green-500",y==="in_progress"&&"text-blue-500 animate-pulse",y==="pending"&&"text-gray-400")}),s.jsx("span",{className:"hidden sm:inline",children:d.label})]},d.id)})}),ye.map(d=>{const y=W(d.id),R=d.icon;return s.jsx(ht,{value:d.id,className:"mt-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:re("w-12 h-12 rounded-full flex items-center justify-center",y==="completed"&&"bg-green-100",y==="in_progress"&&"bg-blue-100",y==="pending"&&"bg-gray-100"),children:s.jsx(R,{className:re("w-6 h-6",y==="completed"&&"text-green-600",y==="in_progress"&&"text-blue-600",y==="pending"&&"text-gray-400")})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:d.label}),s.jsx("p",{className:"text-sm text-gray-500",children:d.description})]}),s.jsxs(be,{variant:y==="completed"?"default":y==="in_progress"?"secondary":"outline",children:[y==="completed"&&s.jsx(Ns,{className:"w-3 h-3 mr-1"}),y==="in_progress"&&s.jsx(He,{className:"w-3 h-3 mr-1 animate-spin"}),y==="completed"?"Completed":y==="in_progress"?"In Progress":"Pending"]})]}),y==="in_progress"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(We,{value:C.progress,className:"h-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:C.message})]}),y==="completed"&&C.completedAt&&s.jsxs("p",{className:"text-sm text-green-600",children:["Completed at ",new Date(C.completedAt).toLocaleString()]})]})},d.id)})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(xe,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(we,{className:"text-lg",children:"Timeline"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_e,{variant:"outline",size:"icon",onClick:()=>T(!N),children:N?s.jsx(Ct,{className:"w-4 h-4"}):s.jsx(ws,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm font-mono",children:[w(_)," / ",w(Z)]})]})]})}),s.jsxs(he,{children:[s.jsxs("div",{className:"relative h-16 bg-gray-100 rounded-lg mb-4",children:[s.jsx("div",{className:"absolute inset-0 flex",children:l.map((d,y)=>s.jsx("div",{className:re("h-full border-r border-white/50 cursor-pointer transition-opacity hover:opacity-80",k(d.type)),style:{width:`${(d.end-d.start)/Z*100}%`},onClick:()=>{V(d.start),g(new Set([d.id]))}},d.id))}),s.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500",style:{left:`${_/Z*100}%`}})]}),s.jsx("div",{className:"space-y-2",children:l.map((d,y)=>{const R=m.has(d.id);return s.jsxs("div",{className:re("rounded-lg border overflow-hidden transition-all",k(d.type),R?"ring-2 ring-blue-500":""),children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 cursor-pointer",onClick:()=>b(d.id),children:[s.jsx("div",{className:"flex-shrink-0",children:R?s.jsx(Dt,{className:"w-4 h-4"}):s.jsx(Et,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-shrink-0 w-20 text-sm font-mono text-gray-500",children:[w(d.start)," - ",w(d.end)]}),s.jsx(be,{variant:"outline",className:"text-xs",children:q(d.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:d.title}),s.jsx("p",{className:"text-xs text-gray-500",children:d.speaker})]}),d.scripture&&s.jsxs(be,{variant:"secondary",className:"text-xs gap-1",children:[s.jsx(Tt,{className:"w-3 h-3"}),d.scripture]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_s,{className:re("w-4 h-4",d.confidence>=.9?"text-green-500":d.confidence>=.8?"text-yellow-500":"text-red-500")}),s.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(d.confidence*100),"%"]})]})]}),R&&s.jsxs("div",{className:"px-3 pb-3 pt-0 border-t bg-white/50",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Speaker"}),s.jsx(ge,{value:d.speaker,className:"mt-1 h-8 text-sm",onChange:ie=>{c(me=>me.map(se=>se.id===d.id?{...se,speaker:ie.target.value}:se))}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Scripture"}),s.jsx(ge,{value:d.scripture,placeholder:"Add scripture reference",className:"mt-1 h-8 text-sm",onChange:ie=>{c(me=>me.map(se=>se.id===d.id?{...se,scripture:ie.target.value}:se))}})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Title"}),s.jsx(ge,{value:d.title,className:"mt-1 h-8 text-sm",onChange:ie=>{c(me=>me.map(se=>se.id===d.id?{...se,title:ie.target.value}:se))}})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsxs(_e,{size:"sm",variant:"outline",children:[s.jsx(ws,{className:"w-3 h-3 mr-1"}),"Preview Segment"]}),s.jsxs(_e,{size:"sm",variant:"outline",children:[s.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Transcribe"]})]})]})]},d.id)})})]})]}),s.jsxs(xe,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(we,{className:"text-lg flex items-center gap-2",children:[s.jsx(Pt,{className:"w-5 h-5"}),"Quality Report"]})}),s.jsxs(he,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[s.jsx(bs,{className:"w-4 h-4 text-blue-500"}),"Audio Quality"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{children:"Overall Score"}),s.jsxs("span",{className:"font-medium",children:[H.audio.score,"%"]})]}),s.jsx(We,{value:H.audio.score,className:"h-2"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("p",{className:"text-gray-500",children:"Bitrate"}),s.jsx("p",{className:"font-medium",children:H.audio.bitrate})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("p",{className:"text-gray-500",children:"Sample Rate"}),s.jsx("p",{className:"font-medium",children:H.audio.sampleRate})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("p",{className:"text-gray-500",children:"Clarity"}),s.jsxs("p",{className:"font-medium",children:[Math.round(H.audio.clarity*100),"%"]})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[s.jsx(It,{className:"w-4 h-4 text-purple-500"}),"Video Quality"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{children:"Overall Score"}),s.jsxs("span",{className:"font-medium",children:[H.video.score,"%"]})]}),s.jsx(We,{value:H.video.score,className:"h-2"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("p",{className:"text-gray-500",children:"Resolution"}),s.jsx("p",{className:"font-medium",children:H.video.resolution})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("p",{className:"text-gray-500",children:"Frame Rate"}),s.jsx("p",{className:"font-medium",children:H.video.frameRate})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("p",{className:"text-gray-500",children:"Bitrate"}),s.jsx("p",{className:"font-medium",children:H.video.bitrate})]})]})]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"font-medium",children:"Overall Quality Score"})]}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[H.overall,"%"]})]})})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(xe,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(we,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ss,{className:"w-4 h-4"}),"Metadata"]}),s.jsxs(gt,{open:j,onOpenChange:ae,children:[s.jsx(yt,{asChild:!0,children:s.jsxs(_e,{variant:"ghost",size:"sm",children:[s.jsx(Ss,{className:"w-4 h-4 mr-1"}),"Edit"]})}),s.jsxs(pt,{className:"sm:max-w-[500px]",children:[s.jsxs(vt,{children:[s.jsx(jt,{children:"Edit Sermon Metadata"}),s.jsx(bt,{children:"Auto-populated from AI extraction. Make changes and save."})]}),s.jsx(ur,{...D,children:s.jsxs("form",{onSubmit:D.handleSubmit(De),className:"space-y-4",children:[s.jsx(Se,{control:D.control,name:"title",render:({field:d})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Title"}),s.jsx(Ae,{children:s.jsx(ge,{...d})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Se,{control:D.control,name:"speaker",render:({field:d})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Speaker"}),s.jsxs(Be,{onValueChange:d.onChange,defaultValue:d.value,children:[s.jsx(Ae,{children:s.jsx(ze,{children:s.jsx(qe,{placeholder:"Select speaker"})})}),s.jsx($e,{children:fe.map(y=>s.jsx(de,{value:y.name,children:y.name},y.id))})]}),s.jsx(ke,{})]})}),s.jsx(Se,{control:D.control,name:"date",render:({field:d})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Date"}),s.jsx(Ae,{children:s.jsx(ge,{type:"date",...d})}),s.jsx(ke,{})]})})]}),s.jsx(Se,{control:D.control,name:"series",render:({field:d})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Series"}),s.jsx(Ae,{children:s.jsx(ge,{...d})}),s.jsx(ke,{})]})}),s.jsx(Se,{control:D.control,name:"location",render:({field:d})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Location"}),s.jsx(Ae,{children:s.jsx(ge,{...d})}),s.jsx(ke,{})]})}),s.jsx(Se,{control:D.control,name:"description",render:({field:d})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Description"}),s.jsx(Ae,{children:s.jsx(qt,{...d,placeholder:"Sermon description..."})}),s.jsx(ke,{})]})}),s.jsx(Se,{control:D.control,name:"tags",render:({field:d})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Tags"}),s.jsx(Ae,{children:s.jsx(ge,{...d,placeholder:"faith, grace, salvation (comma separated)"})}),s.jsx(fr,{children:"Separate tags with commas"}),s.jsx(ke,{})]})}),s.jsxs(Nt,{children:[s.jsx(_e,{type:"button",variant:"outline",onClick:()=>ae(!1),children:"Cancel"}),s.jsx(_e,{type:"submit",disabled:G,children:G?s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})})]})]})]})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Title"}),s.jsx("p",{className:"text-sm mt-1",children:D.getValues("title")||"Not set"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Speaker"}),s.jsx("p",{className:"text-sm mt-1",children:D.getValues("speaker")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Series"}),s.jsx("p",{className:"text-sm mt-1",children:D.getValues("series")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Location"}),s.jsx("p",{className:"text-sm mt-1",children:D.getValues("location")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:D.getValues("tags").map(d=>s.jsx(be,{variant:"secondary",className:"text-xs",children:d},d))})]})]})]}),s.jsxs(xe,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(we,{className:"text-lg flex items-center gap-2",children:[s.jsx(Lt,{className:"w-4 h-4"}),"Team Assignment"]})}),s.jsx(he,{className:"space-y-3",children:Te?s.jsxs("div",{className:"flex items-center justify-center py-4",children:[s.jsx(He,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading team..."})]}):fe.map(d=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:re("w-2 h-2 rounded-full",d.available?"bg-green-500":"bg-gray-300")}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:d.name}),s.jsx("p",{className:"text-xs text-gray-500",children:d.role||"Team Member"})]})]}),s.jsxs(Be,{onValueChange:y=>je(d.id,y),children:[s.jsx(ze,{className:"w-[100px] h-8 text-xs",children:s.jsx(qe,{placeholder:"Assign"})}),s.jsxs($e,{children:[s.jsx(de,{value:"preacher",children:"Preacher"}),s.jsx(de,{value:"editor",children:"Editor"}),s.jsx(de,{value:"reviewer",children:"Reviewer"}),s.jsx(de,{value:"uploader",children:"Uploader"})]})]})]},d.id))})]}),s.jsxs(xe,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(we,{className:"text-lg flex items-center gap-2",children:[s.jsx(_s,{className:"w-4 h-4"}),"Export & Optimize"]})}),s.jsxs(he,{className:"space-y-2",children:[s.jsxs(Be,{onValueChange:d=>ce(d),disabled:v,children:[s.jsx(ze,{className:"w-full",children:v?s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"w-4 h-4 mr-2 animate-spin"}),s.jsx("span",{children:"Optimizing..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2"}),s.jsx(qe,{placeholder:"Select optimization profile"})]})}),s.jsxs($e,{children:[s.jsx(de,{value:"sermon_web",disabled:v,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium",children:"Web Profile"}),s.jsx("p",{className:"text-xs text-gray-500",children:"720p, 2Mbps, optimized for streaming"})]})]})}),s.jsx(de,{value:"sermon_podcast",disabled:v,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"w-4 h-4"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium",children:"Podcast Profile"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Audio-only, 128kbps, RSS ready"})]})]})}),s.jsx(de,{value:"sermon_archive",disabled:v,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fs,{className:"w-4 h-4"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium",children:"Archive Profile"}),s.jsx("p",{className:"text-xs text-gray-500",children:"1080p, 10Mbps, full quality storage"})]})]})})]})]}),v&&s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Processing..."}),s.jsx("span",{className:"font-medium",children:"50%"})]}),s.jsx(We,{value:50,className:"h-2"})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recent optimizations"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(is,{className:"w-3 h-3 text-blue-500"}),s.jsx("span",{className:"text-gray-600",children:"Web - Jan 28, 2024"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ns,{className:"w-3 h-3 text-green-500"}),s.jsx("span",{className:"text-gray-600",children:"Podcast - Jan 25, 2024"})]})]})]})]})]}),s.jsxs(xe,{children:[s.jsx(Ne,{className:"pb-3",children:s.jsxs(we,{className:"text-lg flex items-center gap-2",children:[s.jsx(Bt,{className:"w-4 h-4"}),"AI-Extracted Themes"]})}),s.jsxs(he,{children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:xr.map(d=>s.jsx(be,{variant:"secondary",className:"text-sm",children:d},d))}),s.jsxs(_e,{variant:"ghost",size:"sm",className:"mt-3 w-full",children:[s.jsx(zt,{className:"w-4 h-4 mr-1"}),"Add Theme"]})]})]})]})]})]})}export{_r as SermonProcessingUI,_r as default};
//# sourceMappingURL=SermonProcessingUI-yXPyuBHZ.js.map
