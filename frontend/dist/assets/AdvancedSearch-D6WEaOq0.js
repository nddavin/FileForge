import{j as s,w as ea,x as aa,y as ta,z as na,r as _}from"./radix-vendor-DXnqCESz.js";import{k as L,m as Ce,j as ra,u as sa,C as De,e as Me,b as oa,c as ia,B as ee,I as la,l as Y}from"./index-DHeBa6N9.js";import{s as T,e as he,a as Se,b as E,d as G,i as ye,c as Re,g as O,h as W,j as ie,k as A,l as da,m as ca,n as ve,o as ua,p as me,q as fa,r as va,t as ma,u as ha,v as le,w as Pe,x as ya,y as Ee,z as Be,A as xe,B as pe,C as xa,D as pa,E as q,F as Ae}from"./date-vendor-Cb250gQT.js";import{r as ba,s as ga,X as K,R as Na,f as Oe,t as _a,j as Ye,k as ze,l as He,T as We,A as wa,u as ja,v as ka,o as Ca}from"./icons-vendor-4PzZcNxV.js";import"./react-vendor-BS3SOam5.js";import"./utils-vendor-CbK4XRml.js";function Da({...e}){return s.jsx(ea,{"data-slot":"popover",...e})}function Ma({...e}){return s.jsx(aa,{"data-slot":"popover-trigger",...e})}function Sa({className:e,align:t="center",sideOffset:a=4,...n}){return s.jsx(ta,{children:s.jsx(na,{"data-slot":"popover-content",align:t,sideOffset:a,className:L("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}var b=function(){return b=Object.assign||function(t){for(var a,n=1,r=arguments.length;n<r;n++){a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},b.apply(this,arguments)};function Pa(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a}function Ue(e,t,a){for(var n=0,r=t.length,i;n<r;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Z(e){return e.mode==="multiple"}function X(e){return e.mode==="range"}function ne(e){return e.mode==="single"}var Oa={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Wa(e,t){return q(e,"LLLL y",t)}function Ta(e,t){return q(e,"d",t)}function Fa(e,t){return q(e,"LLLL",t)}function La(e){return"".concat(e)}function Ia(e,t){return q(e,"cccccc",t)}function Ra(e,t){return q(e,"yyyy",t)}var Ea=Object.freeze({__proto__:null,formatCaption:Wa,formatDay:Ta,formatMonthCaption:Fa,formatWeekNumber:La,formatWeekdayName:Ia,formatYearCaption:Ra}),Ba=function(e,t,a){return q(e,"do MMMM (EEEE)",a)},Aa=function(){return"Month: "},Ya=function(){return"Go to next month"},za=function(){return"Go to previous month"},Ha=function(e,t){return q(e,"cccc",t)},Ua=function(e){return"Week n. ".concat(e)},qa=function(){return"Year: "},Ka=Object.freeze({__proto__:null,labelDay:Ba,labelMonthDropdown:Aa,labelNext:Ya,labelPrevious:za,labelWeekNumber:Ua,labelWeekday:Ha,labelYearDropdown:qa});function Va(){var e="buttons",t=Oa,a=da,n={},r={},i=1,l={},o=new Date;return{captionLayout:e,classNames:t,formatters:Ea,labels:Ka,locale:a,modifiersClassNames:n,modifiers:r,numberOfMonths:i,styles:l,today:o,mode:"default"}}function $a(e){var t=e.fromYear,a=e.toYear,n=e.fromMonth,r=e.toMonth,i=e.fromDate,l=e.toDate;return n?i=T(n):t&&(i=new Date(t,0,1)),r?l=he(r):a&&(l=new Date(a,11,31)),{fromDate:i?Se(i):void 0,toDate:l?Se(l):void 0}}var qe=_.createContext(void 0);function Ga(e){var t,a=e.initialProps,n=Va(),r=$a(a),i=r.fromDate,l=r.toDate,o=(t=a.captionLayout)!==null&&t!==void 0?t:n.captionLayout;o!=="buttons"&&(!i||!l)&&(o="buttons");var c;(ne(a)||Z(a)||X(a))&&(c=a.onSelect);var f=b(b(b({},n),a),{captionLayout:o,classNames:b(b({},n.classNames),a.classNames),components:b({},a.components),formatters:b(b({},n.formatters),a.formatters),fromDate:i,labels:b(b({},n.labels),a.labels),mode:a.mode||n.mode,modifiers:b(b({},n.modifiers),a.modifiers),modifiersClassNames:b(b({},n.modifiersClassNames),a.modifiersClassNames),onSelect:c,styles:b(b({},n.styles),a.styles),toDate:l});return s.jsx(qe.Provider,{value:f,children:e.children})}function D(){var e=_.useContext(qe);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Ke(e){var t=D(),a=t.locale,n=t.classNames,r=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:r.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:a})})}function Za(e){return s.jsx("svg",b({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ve(e){var t,a,n=e.onChange,r=e.value,i=e.children,l=e.caption,o=e.className,c=e.style,f=D(),u=(a=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&a!==void 0?a:Za;return s.jsxs("div",{className:o,style:c,children:[s.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:r,onChange:n,children:i}),s.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[l,s.jsx(u,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function Xa(e){var t,a=D(),n=a.fromDate,r=a.toDate,i=a.styles,l=a.locale,o=a.formatters.formatMonthCaption,c=a.classNames,f=a.components,u=a.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!r)return s.jsx(s.Fragment,{});var v=[];if(ha(n,r))for(var m=T(n),y=n.getMonth();y<=r.getMonth();y++)v.push(le(m,y));else for(var m=T(new Date),y=0;y<=11;y++)v.push(le(m,y));var g=function(N){var S=Number(N.target.value),M=le(T(e.displayMonth),S);e.onChange(M)},w=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:Ve;return s.jsx(w,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:l}),children:v.map(function(N){return s.jsx("option",{value:N.getMonth(),children:o(N,{locale:l})},N.getMonth())})})}function Ja(e){var t,a=e.displayMonth,n=D(),r=n.fromDate,i=n.toDate,l=n.locale,o=n.styles,c=n.classNames,f=n.components,u=n.formatters.formatYearCaption,v=n.labels.labelYearDropdown,m=[];if(!r)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var y=r.getFullYear(),g=i.getFullYear(),w=y;w<=g;w++)m.push(Pe(ya(new Date),w));var N=function(M){var z=Pe(T(a),Number(M.target.value));e.onChange(z)},S=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:Ve;return s.jsx(S,{name:"years","aria-label":v(),className:c.dropdown_year,style:o.dropdown_year,onChange:N,value:a.getFullYear(),caption:u(a,{locale:l}),children:m.map(function(M){return s.jsx("option",{value:M.getFullYear(),children:u(M,{locale:l})},M.getFullYear())})})}function Qa(e,t){var a=_.useState(e),n=a[0],r=a[1],i=t===void 0?n:t;return[i,r]}function et(e){var t=e.month,a=e.defaultMonth,n=e.today,r=t||a||n||new Date,i=e.toDate,l=e.fromDate,o=e.numberOfMonths,c=o===void 0?1:o;if(i&&G(i,r)<0){var f=-1*(c-1);r=E(i,f)}return l&&G(r,l)<0&&(r=l),T(r)}function at(){var e=D(),t=et(e),a=Qa(t,e.month),n=a[0],r=a[1],i=function(l){var o;if(!e.disableNavigation){var c=T(l);r(c),(o=e.onMonthChange)===null||o===void 0||o.call(e,c)}};return[n,i]}function tt(e,t){for(var a=t.reverseMonths,n=t.numberOfMonths,r=T(e),i=T(E(r,n)),l=G(i,r),o=[],c=0;c<l;c++){var f=E(r,c);o.push(f)}return a&&(o=o.reverse()),o}function nt(e,t){if(!t.disableNavigation){var a=t.toDate,n=t.pagedNavigation,r=t.numberOfMonths,i=r===void 0?1:r,l=n?i:1,o=T(e);if(!a)return E(o,l);var c=G(a,e);if(!(c<i))return E(o,l)}}function rt(e,t){if(!t.disableNavigation){var a=t.fromDate,n=t.pagedNavigation,r=t.numberOfMonths,i=r===void 0?1:r,l=n?i:1,o=T(e);if(!a)return E(o,-l);var c=G(o,a);if(!(c<=0))return E(o,-l)}}var $e=_.createContext(void 0);function st(e){var t=D(),a=at(),n=a[0],r=a[1],i=tt(n,t),l=nt(n,t),o=rt(n,t),c=function(v){return i.some(function(m){return ye(v,m)})},f=function(v,m){c(v)||(m&&Re(v,m)?r(E(v,1+t.numberOfMonths*-1)):r(v))},u={currentMonth:n,displayMonths:i,goToMonth:r,goToDate:f,previousMonth:o,nextMonth:l,isDateDisplayed:c};return s.jsx($e.Provider,{value:u,children:e.children})}function J(){var e=_.useContext($e);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Te(e){var t,a=D(),n=a.classNames,r=a.styles,i=a.components,l=J().goToMonth,o=function(u){l(E(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Ke,f=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:r.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:f}),s.jsx(Xa,{onChange:o,displayMonth:e.displayMonth}),s.jsx(Ja,{onChange:o,displayMonth:e.displayMonth})]})}function ot(e){return s.jsx("svg",b({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function it(e){return s.jsx("svg",b({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var te=_.forwardRef(function(e,t){var a=D(),n=a.classNames,r=a.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var l=i.join(" "),o=b(b({},r.button_reset),r.button);return e.style&&Object.assign(o,e.style),s.jsx("button",b({},e,{ref:t,type:"button",className:l,style:o}))});function lt(e){var t,a,n=D(),r=n.dir,i=n.locale,l=n.classNames,o=n.styles,c=n.labels,f=c.labelPrevious,u=c.labelNext,v=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var m=f(e.previousMonth,{locale:i}),y=[l.nav_button,l.nav_button_previous].join(" "),g=u(e.nextMonth,{locale:i}),w=[l.nav_button,l.nav_button_next].join(" "),N=(t=v==null?void 0:v.IconRight)!==null&&t!==void 0?t:it,S=(a=v==null?void 0:v.IconLeft)!==null&&a!==void 0?a:ot;return s.jsxs("div",{className:l.nav,style:o.nav,children:[!e.hidePrevious&&s.jsx(te,{name:"previous-month","aria-label":m,className:y,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:r==="rtl"?s.jsx(N,{className:l.nav_icon,style:o.nav_icon}):s.jsx(S,{className:l.nav_icon,style:o.nav_icon})}),!e.hideNext&&s.jsx(te,{name:"next-month","aria-label":g,className:w,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:r==="rtl"?s.jsx(S,{className:l.nav_icon,style:o.nav_icon}):s.jsx(N,{className:l.nav_icon,style:o.nav_icon})})]})}function Fe(e){var t=D().numberOfMonths,a=J(),n=a.previousMonth,r=a.nextMonth,i=a.goToMonth,l=a.displayMonths,o=l.findIndex(function(g){return ye(e.displayMonth,g)}),c=o===0,f=o===l.length-1,u=t>1&&(c||!f),v=t>1&&(f||!c),m=function(){n&&i(n)},y=function(){r&&i(r)};return s.jsx(lt,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:v,nextMonth:r,previousMonth:n,onPreviousClick:m,onNextClick:y})}function dt(e){var t,a=D(),n=a.classNames,r=a.disableNavigation,i=a.styles,l=a.captionLayout,o=a.components,c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:Ke,f;return r?f=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?f=s.jsx(Te,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?f=s.jsxs(s.Fragment,{children:[s.jsx(Te,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(Fe,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Fe,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:f})}function ct(e){var t=D(),a=t.footer,n=t.styles,r=t.classNames.tfoot;return a?s.jsx("tfoot",{className:r,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:a})})}):s.jsx(s.Fragment,{})}function ut(e,t,a){for(var n=a?xe(new Date):pe(new Date,{locale:e,weekStartsOn:t}),r=[],i=0;i<7;i++){var l=W(n,i);r.push(l)}return r}function ft(){var e=D(),t=e.classNames,a=e.styles,n=e.showWeekNumber,r=e.locale,i=e.weekStartsOn,l=e.ISOWeek,o=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,f=ut(r,i,l);return s.jsxs("tr",{style:a.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:a.head_cell,className:t.head_cell}),f.map(function(u,v){return s.jsx("th",{scope:"col",className:t.head_cell,style:a.head_cell,"aria-label":c(u,{locale:r}),children:o(u,{locale:r})},v)})]})}function vt(){var e,t=D(),a=t.classNames,n=t.styles,r=t.components,i=(e=r==null?void 0:r.HeadRow)!==null&&e!==void 0?e:ft;return s.jsx("thead",{style:n.head,className:a.head,children:s.jsx(i,{})})}function mt(e){var t=D(),a=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:a})})}var be=_.createContext(void 0);function ht(e){if(!Z(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(be.Provider,{value:t,children:e.children})}return s.jsx(yt,{initialProps:e.initialProps,children:e.children})}function yt(e){var t=e.initialProps,a=e.children,n=t.selected,r=t.min,i=t.max,l=function(f,u,v){var m,y;(m=t.onDayClick)===null||m===void 0||m.call(t,f,u,v);var g=!!(u.selected&&r&&(n==null?void 0:n.length)===r);if(!g){var w=!!(!u.selected&&i&&(n==null?void 0:n.length)===i);if(!w){var N=n?Ue([],n):[];if(u.selected){var S=N.findIndex(function(M){return O(f,M)});N.splice(S,1)}else N.push(f);(y=t.onSelect)===null||y===void 0||y.call(t,N,f,u,v)}}},o={disabled:[]};n&&o.disabled.push(function(f){var u=i&&n.length>i-1,v=n.some(function(m){return O(m,f)});return!!(u&&!v)});var c={selected:n,onDayClick:l,modifiers:o};return s.jsx(be.Provider,{value:c,children:a})}function ge(){var e=_.useContext(be);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function xt(e,t){var a=t||{},n=a.from,r=a.to;return n&&r?O(r,e)&&O(n,e)?void 0:O(r,e)?{from:r,to:void 0}:O(n,e)?void 0:me(n,e)?{from:e,to:r}:{from:n,to:e}:r?me(e,r)?{from:r,to:e}:{from:e,to:r}:n?Re(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Ne=_.createContext(void 0);function pt(e){if(!X(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Ne.Provider,{value:t,children:e.children})}return s.jsx(bt,{initialProps:e.initialProps,children:e.children})}function bt(e){var t=e.initialProps,a=e.children,n=t.selected,r=n||{},i=r.from,l=r.to,o=t.min,c=t.max,f=function(y,g,w){var N,S;(N=t.onDayClick)===null||N===void 0||N.call(t,y,g,w);var M=xt(y,n);(S=t.onSelect)===null||S===void 0||S.call(t,M,y,g,w)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],l?(u.range_end=[l],O(i,l)||(u.range_middle=[{after:i,before:l}])):u.range_end=[i]):l&&(u.range_start=[l],u.range_end=[l]),o&&(i&&!l&&u.disabled.push({after:ie(i,o-1),before:W(i,o-1)}),i&&l&&u.disabled.push({after:i,before:W(i,o-1)}),!i&&l&&u.disabled.push({after:ie(l,o-1),before:W(l,o-1)})),c){if(i&&!l&&(u.disabled.push({before:W(i,-c+1)}),u.disabled.push({after:W(i,c-1)})),i&&l){var v=A(l,i)+1,m=c-v;u.disabled.push({before:ie(i,m)}),u.disabled.push({after:W(l,m)})}!i&&l&&(u.disabled.push({before:W(l,-c+1)}),u.disabled.push({after:W(l,c-1)}))}return s.jsx(Ne.Provider,{value:{selected:n,onDayClick:f,modifiers:u},children:a})}function _e(){var e=_.useContext(Ne);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ae(e){return Array.isArray(e)?Ue([],e):e!==void 0?[e]:[]}function gt(e){var t={};return Object.entries(e).forEach(function(a){var n=a[0],r=a[1];t[n]=ae(r)}),t}var I;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(I||(I={}));var Nt=I.Selected,B=I.Disabled,_t=I.Hidden,wt=I.Today,de=I.RangeEnd,ce=I.RangeMiddle,ue=I.RangeStart,jt=I.Outside;function kt(e,t,a){var n,r=(n={},n[Nt]=ae(e.selected),n[B]=ae(e.disabled),n[_t]=ae(e.hidden),n[wt]=[e.today],n[de]=[],n[ce]=[],n[ue]=[],n[jt]=[],n);return e.fromDate&&r[B].push({before:e.fromDate}),e.toDate&&r[B].push({after:e.toDate}),Z(e)?r[B]=r[B].concat(t.modifiers[B]):X(e)&&(r[B]=r[B].concat(a.modifiers[B]),r[ue]=a.modifiers[ue],r[ce]=a.modifiers[ce],r[de]=a.modifiers[de]),r}var Ge=_.createContext(void 0);function Ct(e){var t=D(),a=ge(),n=_e(),r=kt(t,a,n),i=gt(t.modifiers),l=b(b({},r),i);return s.jsx(Ge.Provider,{value:l,children:e.children})}function Ze(){var e=_.useContext(Ge);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Dt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Mt(e){return!!(e&&typeof e=="object"&&"from"in e)}function St(e){return!!(e&&typeof e=="object"&&"after"in e)}function Pt(e){return!!(e&&typeof e=="object"&&"before"in e)}function Ot(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Wt(e,t){var a,n=t.from,r=t.to;if(n&&r){var i=A(r,n)<0;i&&(a=[r,n],n=a[0],r=a[1]);var l=A(e,n)>=0&&A(r,e)>=0;return l}return r?O(r,e):n?O(n,e):!1}function Tt(e){return Ae(e)}function Ft(e){return Array.isArray(e)&&e.every(Ae)}function Lt(e,t){return t.some(function(a){if(typeof a=="boolean")return a;if(Tt(a))return O(e,a);if(Ft(a))return a.includes(e);if(Mt(a))return Wt(e,a);if(Ot(a))return a.dayOfWeek.includes(e.getDay());if(Dt(a)){var n=A(a.before,e),r=A(a.after,e),i=n>0,l=r<0,o=me(a.before,a.after);return o?l&&i:i||l}return St(a)?A(e,a.after)>0:Pt(a)?A(a.before,e)>0:typeof a=="function"?a(e):!1})}function we(e,t,a){var n=Object.keys(t).reduce(function(i,l){var o=t[l];return Lt(e,o)&&i.push(l),i},[]),r={};return n.forEach(function(i){return r[i]=!0}),a&&!ye(e,a)&&(r.outside=!0),r}function It(e,t){for(var a=T(e[0]),n=he(e[e.length-1]),r,i,l=a;l<=n;){var o=we(l,t),c=!o.disabled&&!o.hidden;if(!c){l=W(l,1);continue}if(o.selected)return l;o.today&&!i&&(i=l),r||(r=l),l=W(l,1)}return i||r}var Rt=365;function Xe(e,t){var a=t.moveBy,n=t.direction,r=t.context,i=t.modifiers,l=t.retry,o=l===void 0?{count:0,lastFocused:e}:l,c=r.weekStartsOn,f=r.fromDate,u=r.toDate,v=r.locale,m={day:W,week:ve,month:E,year:fa,startOfWeek:function(N){return r.ISOWeek?xe(N):pe(N,{locale:v,weekStartsOn:c})},endOfWeek:function(N){return r.ISOWeek?Ee(N):Be(N,{locale:v,weekStartsOn:c})}},y=m[a](e,n==="after"?1:-1);n==="before"&&f?y=va([f,y]):n==="after"&&u&&(y=ma([u,y]));var g=!0;if(i){var w=we(y,i);g=!w.disabled&&!w.hidden}return g?y:o.count>Rt?o.lastFocused:Xe(y,{moveBy:a,direction:n,context:r,modifiers:i,retry:b(b({},o),{count:o.count+1})})}var Je=_.createContext(void 0);function Et(e){var t=J(),a=Ze(),n=_.useState(),r=n[0],i=n[1],l=_.useState(),o=l[0],c=l[1],f=It(t.displayMonths,a),u=r??(o&&t.isDateDisplayed(o))?o:f,v=function(){c(r),i(void 0)},m=function(N){i(N)},y=D(),g=function(N,S){if(r){var M=Xe(r,{moveBy:N,direction:S,context:y,modifiers:a});O(r,M)||(t.goToDate(M,r),m(M))}},w={focusedDay:r,focusTarget:u,blur:v,focus:m,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(Je.Provider,{value:w,children:e.children})}function je(){var e=_.useContext(Je);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Bt(e,t){var a=Ze(),n=we(e,a,t);return n}var ke=_.createContext(void 0);function At(e){if(!ne(e.initialProps)){var t={selected:void 0};return s.jsx(ke.Provider,{value:t,children:e.children})}return s.jsx(Yt,{initialProps:e.initialProps,children:e.children})}function Yt(e){var t=e.initialProps,a=e.children,n=function(i,l,o){var c,f,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,l,o),l.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,i,l,o);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,l,o)},r={selected:t.selected,onDayClick:n};return s.jsx(ke.Provider,{value:r,children:a})}function Qe(){var e=_.useContext(ke);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function zt(e,t){var a=D(),n=Qe(),r=ge(),i=_e(),l=je(),o=l.focusDayAfter,c=l.focusDayBefore,f=l.focusWeekAfter,u=l.focusWeekBefore,v=l.blur,m=l.focus,y=l.focusMonthBefore,g=l.focusMonthAfter,w=l.focusYearBefore,N=l.focusYearAfter,S=l.focusStartOfWeek,M=l.focusEndOfWeek,z=function(p){var x,re,se,oe;ne(a)?(x=n.onDayClick)===null||x===void 0||x.call(n,e,t,p):Z(a)?(re=r.onDayClick)===null||re===void 0||re.call(r,e,t,p):X(a)?(se=i.onDayClick)===null||se===void 0||se.call(i,e,t,p):(oe=a.onDayClick)===null||oe===void 0||oe.call(a,e,t,p)},V=function(p){var x;m(e),(x=a.onDayFocus)===null||x===void 0||x.call(a,e,t,p)},$=function(p){var x;v(),(x=a.onDayBlur)===null||x===void 0||x.call(a,e,t,p)},d=function(p){var x;(x=a.onDayMouseEnter)===null||x===void 0||x.call(a,e,t,p)},h=function(p){var x;(x=a.onDayMouseLeave)===null||x===void 0||x.call(a,e,t,p)},j=function(p){var x;(x=a.onDayPointerEnter)===null||x===void 0||x.call(a,e,t,p)},k=function(p){var x;(x=a.onDayPointerLeave)===null||x===void 0||x.call(a,e,t,p)},C=function(p){var x;(x=a.onDayTouchCancel)===null||x===void 0||x.call(a,e,t,p)},P=function(p){var x;(x=a.onDayTouchEnd)===null||x===void 0||x.call(a,e,t,p)},F=function(p){var x;(x=a.onDayTouchMove)===null||x===void 0||x.call(a,e,t,p)},R=function(p){var x;(x=a.onDayTouchStart)===null||x===void 0||x.call(a,e,t,p)},H=function(p){var x;(x=a.onDayKeyUp)===null||x===void 0||x.call(a,e,t,p)},U=function(p){var x;switch(p.key){case"ArrowLeft":p.preventDefault(),p.stopPropagation(),a.dir==="rtl"?o():c();break;case"ArrowRight":p.preventDefault(),p.stopPropagation(),a.dir==="rtl"?c():o();break;case"ArrowDown":p.preventDefault(),p.stopPropagation(),f();break;case"ArrowUp":p.preventDefault(),p.stopPropagation(),u();break;case"PageUp":p.preventDefault(),p.stopPropagation(),p.shiftKey?w():y();break;case"PageDown":p.preventDefault(),p.stopPropagation(),p.shiftKey?N():g();break;case"Home":p.preventDefault(),p.stopPropagation(),S();break;case"End":p.preventDefault(),p.stopPropagation(),M();break}(x=a.onDayKeyDown)===null||x===void 0||x.call(a,e,t,p)},Q={onClick:z,onFocus:V,onBlur:$,onKeyDown:U,onKeyUp:H,onMouseEnter:d,onMouseLeave:h,onPointerEnter:j,onPointerLeave:k,onTouchCancel:C,onTouchEnd:P,onTouchMove:F,onTouchStart:R};return Q}function Ht(){var e=D(),t=Qe(),a=ge(),n=_e(),r=ne(e)?t.selected:Z(e)?a.selected:X(e)?n.selected:void 0;return r}function Ut(e){return Object.values(I).includes(e)}function qt(e,t){var a=[e.classNames.day];return Object.keys(t).forEach(function(n){var r=e.modifiersClassNames[n];if(r)a.push(r);else if(Ut(n)){var i=e.classNames["day_".concat(n)];i&&a.push(i)}}),a}function Kt(e,t){var a=b({},e.styles.day);return Object.keys(t).forEach(function(n){var r;a=b(b({},a),(r=e.modifiersStyles)===null||r===void 0?void 0:r[n])}),a}function Vt(e,t,a){var n,r,i,l=D(),o=je(),c=Bt(e,t),f=zt(e,c),u=Ht(),v=!!(l.onDayClick||l.mode!=="default");_.useEffect(function(){var d;c.outside||o.focusedDay&&v&&O(o.focusedDay,e)&&((d=a.current)===null||d===void 0||d.focus())},[o.focusedDay,e,a,v,c.outside]);var m=qt(l,c).join(" "),y=Kt(l,c),g=!!(c.outside&&!l.showOutsideDays||c.hidden),w=(i=(r=l.components)===null||r===void 0?void 0:r.DayContent)!==null&&i!==void 0?i:mt,N=s.jsx(w,{date:e,displayMonth:t,activeModifiers:c}),S={style:y,className:m,children:N,role:"gridcell"},M=o.focusTarget&&O(o.focusTarget,e)&&!c.outside,z=o.focusedDay&&O(o.focusedDay,e),V=b(b(b({},S),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=z||M?0:-1,n)),f),$={isButton:v,isHidden:g,activeModifiers:c,selectedDays:u,buttonProps:V,divProps:S};return $}function $t(e){var t=_.useRef(null),a=Vt(e.date,e.displayMonth,t);return a.isHidden?s.jsx("div",{role:"gridcell"}):a.isButton?s.jsx(te,b({name:"day",ref:t},a.buttonProps)):s.jsx("div",b({},a.divProps))}function Gt(e){var t=e.number,a=e.dates,n=D(),r=n.onWeekNumberClick,i=n.styles,l=n.classNames,o=n.locale,c=n.labels.labelWeekNumber,f=n.formatters.formatWeekNumber,u=f(Number(t),{locale:o});if(!r)return s.jsx("span",{className:l.weeknumber,style:i.weeknumber,children:u});var v=c(Number(t),{locale:o}),m=function(y){r(t,a,y)};return s.jsx(te,{name:"week-number","aria-label":v,className:l.weeknumber,style:i.weeknumber,onClick:m,children:u})}function Zt(e){var t,a,n=D(),r=n.styles,i=n.classNames,l=n.showWeekNumber,o=n.components,c=(t=o==null?void 0:o.Day)!==null&&t!==void 0?t:$t,f=(a=o==null?void 0:o.WeekNumber)!==null&&a!==void 0?a:Gt,u;return l&&(u=s.jsx("td",{className:i.cell,style:r.cell,children:s.jsx(f,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:r.row,children:[u,e.dates.map(function(v){return s.jsx("td",{className:i.cell,style:r.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:v})},ua(v))})]})}function Le(e,t,a){for(var n=a!=null&&a.ISOWeek?Ee(t):Be(t,a),r=a!=null&&a.ISOWeek?xe(e):pe(e,a),i=A(n,r),l=[],o=0;o<=i;o++)l.push(W(r,o));var c=l.reduce(function(f,u){var v=a!=null&&a.ISOWeek?xa(u):pa(u,a),m=f.find(function(y){return y.weekNumber===v});return m?(m.dates.push(u),f):(f.push({weekNumber:v,dates:[u]}),f)},[]);return c}function Xt(e,t){var a=Le(T(e),he(e),t);if(t!=null&&t.useFixedWeeks){var n=ca(e,t);if(n<6){var r=a[a.length-1],i=r.dates[r.dates.length-1],l=ve(i,6-n),o=Le(ve(i,1),l,t);a.push.apply(a,o)}}return a}function Jt(e){var t,a,n,r=D(),i=r.locale,l=r.classNames,o=r.styles,c=r.hideHead,f=r.fixedWeeks,u=r.components,v=r.weekStartsOn,m=r.firstWeekContainsDate,y=r.ISOWeek,g=Xt(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:y,locale:i,weekStartsOn:v,firstWeekContainsDate:m}),w=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:vt,N=(a=u==null?void 0:u.Row)!==null&&a!==void 0?a:Zt,S=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:ct;return s.jsxs("table",{id:e.id,className:l.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(w,{}),s.jsx("tbody",{className:l.tbody,style:o.tbody,children:g.map(function(M){return s.jsx(N,{displayMonth:e.displayMonth,dates:M.dates,weekNumber:M.weekNumber},M.weekNumber)})}),s.jsx(S,{displayMonth:e.displayMonth})]})}function Qt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var en=Qt()?_.useLayoutEffect:_.useEffect,fe=!1,an=0;function Ie(){return"react-day-picker-".concat(++an)}function tn(e){var t,a=e??(fe?Ie():null),n=_.useState(a),r=n[0],i=n[1];return en(function(){r===null&&i(Ie())},[]),_.useEffect(function(){fe===!1&&(fe=!0)},[]),(t=e??r)!==null&&t!==void 0?t:void 0}function nn(e){var t,a,n=D(),r=n.dir,i=n.classNames,l=n.styles,o=n.components,c=J().displayMonths,f=tn(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,v=[i.month],m=l.month,y=e.displayIndex===0,g=e.displayIndex===c.length-1,w=!y&&!g;r==="rtl"&&(t=[y,g],g=t[0],y=t[1]),y&&(v.push(i.caption_start),m=b(b({},m),l.caption_start)),g&&(v.push(i.caption_end),m=b(b({},m),l.caption_end)),w&&(v.push(i.caption_between),m=b(b({},m),l.caption_between));var N=(a=o==null?void 0:o.Caption)!==null&&a!==void 0?a:dt;return s.jsxs("div",{className:v.join(" "),style:m,children:[s.jsx(N,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Jt,{id:u,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function rn(e){var t=D(),a=t.classNames,n=t.styles;return s.jsx("div",{className:a.months,style:n.months,children:e.children})}function sn(e){var t,a,n=e.initialProps,r=D(),i=je(),l=J(),o=_.useState(!1),c=o[0],f=o[1];_.useEffect(function(){r.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),f(!0)))},[r.initialFocus,c,i.focus,i.focusTarget,i]);var u=[r.classNames.root,r.className];r.numberOfMonths>1&&u.push(r.classNames.multiple_months),r.showWeekNumber&&u.push(r.classNames.with_weeknumber);var v=b(b({},r.styles.root),r.style),m=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,w){var N;return b(b({},g),(N={},N[w]=n[w],N))},{}),y=(a=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&a!==void 0?a:rn;return s.jsx("div",b({className:u.join(" "),style:v,dir:r.dir,id:r.id,nonce:n.nonce,title:n.title,lang:n.lang},m,{children:s.jsx(y,{children:l.displayMonths.map(function(g,w){return s.jsx(nn,{displayIndex:w,displayMonth:g},w)})})}))}function on(e){var t=e.children,a=Pa(e,["children"]);return s.jsx(Ga,{initialProps:a,children:s.jsx(st,{children:s.jsx(At,{initialProps:a,children:s.jsx(ht,{initialProps:a,children:s.jsx(pt,{initialProps:a,children:s.jsx(Ct,{children:s.jsx(Et,{children:t})})})})})})})}function ln(e){return s.jsx(on,b({},e,{children:s.jsx(sn,{initialProps:e})}))}function dn({className:e,classNames:t,showOutsideDays:a=!0,...n}){return s.jsx(ln,{showOutsideDays:a,className:L("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:L(Ce({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:L("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:L(Ce({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:r,...i})=>s.jsx(ga,{className:L("size-4",r),...i}),IconRight:({className:r,...i})=>s.jsx(ba,{className:L("size-4",r),...i})},...n})}const cn=[{id:"audio",label:"Audio",icon:Ye},{id:"video",label:"Video",icon:ze},{id:"document",label:"Document",icon:He}],un=[{id:"uploaded",label:"Uploaded"},{id:"transcribed",label:"Transcribed"},{id:"reviewed",label:"Reviewed"},{id:"published",label:"Published"}],fn=[{id:"created_at",label:"Date Created"},{id:"name",label:"Name"},{id:"size",label:"File Size"},{id:"metadata.series",label:"Series"},{id:"metadata.speaker",label:"Speaker"}];function bn(){const{files:e,loading:t,refreshFiles:a}=ra(),[n,r]=_.useState(!1),[i,l]=_.useState(0),[o,c]=_.useState({query:"",fileTypes:[],dateRange:null,series:[],speakers:[],tags:[],statuses:[],sortBy:"created_at",sortOrder:"desc"}),f=_.useMemo(()=>{const d=new Set;return e.forEach(h=>{var j;(j=h.metadata)!=null&&j.series&&d.add(h.metadata.series)}),Array.from(d).sort()},[e]),u=_.useMemo(()=>{const d=new Set;return e.forEach(h=>{var j;(j=h.metadata)!=null&&j.speaker&&d.add(h.metadata.speaker)}),Array.from(d).sort()},[e]),v=_.useMemo(()=>{const d=new Set;return e.forEach(h=>{var j;(j=h.metadata)!=null&&j.tags&&h.metadata.tags.forEach(k=>d.add(k))}),Array.from(d).sort()},[e]);_.useEffect(()=>{var h,j;let d=0;o.fileTypes.length>0&&d++,((h=o.dateRange)!=null&&h.from||(j=o.dateRange)!=null&&j.to)&&d++,o.series.length>0&&d++,o.speakers.length>0&&d++,o.tags.length>0&&d++,o.statuses.length>0&&d++,l(d)},[o]);const m=_.useMemo(()=>{var h,j;let d=[...e];if(o.query){const k=o.query.toLowerCase();d=d.filter(C=>{var P,F,R,H,U,Q;return C.name.toLowerCase().includes(k)||((F=(P=C.metadata)==null?void 0:P.series)==null?void 0:F.toLowerCase().includes(k))||((H=(R=C.metadata)==null?void 0:R.speaker)==null?void 0:H.toLowerCase().includes(k))||((Q=(U=C.metadata)==null?void 0:U.tags)==null?void 0:Q.some(p=>p.toLowerCase().includes(k)))})}return o.fileTypes.length>0&&(d=d.filter(k=>{const C=k.type.startsWith("audio/")?"audio":k.type.startsWith("video/")?"video":"document";return o.fileTypes.includes(C)})),(h=o.dateRange)!=null&&h.from&&(d=d.filter(k=>new Date(k.created_at)>=o.dateRange.from)),(j=o.dateRange)!=null&&j.to&&(d=d.filter(k=>new Date(k.created_at)<=o.dateRange.to)),o.series.length>0&&(d=d.filter(k=>{var C;return o.series.includes((C=k.metadata)==null?void 0:C.series)})),o.speakers.length>0&&(d=d.filter(k=>{var C;return o.speakers.includes((C=k.metadata)==null?void 0:C.speaker)})),o.tags.length>0&&(d=d.filter(k=>{var C,P;return(P=(C=k.metadata)==null?void 0:C.tags)==null?void 0:P.some(F=>o.tags.includes(F))})),o.statuses.length>0&&(d=d.filter(k=>{var C;return o.statuses.includes(((C=k.metadata)==null?void 0:C.status)||"uploaded")})),d.sort((k,C)=>{var F,R,H,U;let P=0;switch(o.sortBy){case"name":P=k.name.localeCompare(C.name);break;case"size":P=k.size-C.size;break;case"metadata.series":P=(((F=k.metadata)==null?void 0:F.series)||"").localeCompare(((R=C.metadata)==null?void 0:R.series)||"");break;case"metadata.speaker":P=(((H=k.metadata)==null?void 0:H.speaker)||"").localeCompare(((U=C.metadata)==null?void 0:U.speaker)||"");break;case"created_at":default:P=new Date(k.created_at).getTime()-new Date(C.created_at).getTime();break}return o.sortOrder==="desc"?-P:P}),d},[e,o]),y=_.useCallback(d=>{c(h=>({...h,fileTypes:h.fileTypes.includes(d)?h.fileTypes.filter(j=>j!==d):[...h.fileTypes,d]}))},[]),g=_.useCallback(d=>{c(h=>({...h,series:h.series.includes(d)?h.series.filter(j=>j!==d):[...h.series,d]}))},[]),w=_.useCallback(d=>{c(h=>({...h,speakers:h.speakers.includes(d)?h.speakers.filter(j=>j!==d):[...h.speakers,d]}))},[]),N=_.useCallback(d=>{c(h=>({...h,tags:h.tags.includes(d)?h.tags.filter(j=>j!==d):[...h.tags,d]}))},[]),S=_.useCallback(d=>{c(h=>({...h,statuses:h.statuses.includes(d)?h.statuses.filter(j=>j!==d):[...h.statuses,d]}))},[]),M=_.useCallback(()=>{c({query:"",fileTypes:[],dateRange:null,series:[],speakers:[],tags:[],statuses:[],sortBy:"created_at",sortOrder:"desc"}),sa.success("Filters cleared")},[]),z=d=>d.startsWith("audio/")?Ye:d.startsWith("video/")?ze:He,V=d=>d<1024?`${d} B`:d<1024*1024?`${(d/1024).toFixed(1)} KB`:d<1024*1024*1024?`${(d/(1024*1024)).toFixed(1)} MB`:`${(d/(1024*1024*1024)).toFixed(1)} GB`,$=d=>{const j={uploaded:{label:"Uploaded",variant:"secondary"},transcribed:{label:"Transcribed",variant:"default"},reviewed:{label:"Reviewed",variant:"outline"},published:{label:"Published",variant:"default"}}[d]||{label:d,variant:"secondary"};return s.jsx(Y,{variant:j.variant,children:j.label})};return t?s.jsx(De,{children:s.jsx(Me,{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"text-lg text-gray-500",children:"Loading files..."})})}):s.jsxs(De,{children:[s.jsx(oa,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ia,{className:"text-lg",children:"Advanced Search"}),s.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&s.jsxs(ee,{variant:"outline",size:"sm",onClick:M,children:[s.jsx(K,{className:"w-4 h-4 mr-1"}),"Clear (",i,")"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>a(),children:[s.jsx(Na,{className:"w-4 h-4 mr-1"}),"Refresh"]})]})]})}),s.jsxs(Me,{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(la,{placeholder:"Search by name, series, speaker, or tags...",value:o.query,onChange:d=>c(h=>({...h,query:d.target.value})),className:"pl-10"})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs(Da,{open:n,onOpenChange:r,children:[s.jsx(Ma,{asChild:!0,children:s.jsxs(ee,{variant:"outline",size:"sm",className:"relative",children:[s.jsx(_a,{className:"w-4 h-4 mr-1"}),"Filters",i>0&&s.jsx(Y,{variant:"default",className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center text-xs",children:i})]})}),s.jsx(Sa,{className:"w-80",align:"start",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"File Type"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:cn.map(d=>{const h=d.icon;return s.jsxs("button",{onClick:()=>y(d.id),className:L("flex items-center gap-1 px-3 py-1.5 rounded-md text-sm transition-colors",o.fileTypes.includes(d.id)?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-600 border border-transparent hover:bg-gray-200"),children:[s.jsx(h,{className:"w-3 h-3"}),d.label]},d.id)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Date Range"}),s.jsx(dn,{mode:"range",selected:o.dateRange||void 0,onSelect:d=>c(h=>({...h,dateRange:d||null})),className:"rounded-md border"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Status"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:un.map(d=>s.jsx("button",{onClick:()=>S(d.id),className:L("px-3 py-1.5 rounded-md text-sm transition-colors",o.statuses.includes(d.id)?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-600 border border-transparent hover:bg-gray-200"),children:d.label},d.id))})]}),f.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Series"}),s.jsx("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:f.map(d=>s.jsx("button",{onClick:()=>g(d),className:L("px-2 py-0.5 rounded text-xs transition-colors",o.series.includes(d)?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:d},d))})]}),u.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Speakers"}),s.jsx("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:u.map(d=>s.jsx("button",{onClick:()=>w(d),className:L("px-2 py-0.5 rounded text-xs transition-colors",o.speakers.includes(d)?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:d},d))})]}),v.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:v.map(d=>s.jsxs("button",{onClick:()=>N(d),className:L("px-2 py-0.5 rounded text-xs transition-colors",o.tags.includes(d)?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[s.jsx(We,{className:"w-3 h-3 inline mr-1"}),d]},d))})]})]})})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Sort by:"}),s.jsx("select",{value:o.sortBy,onChange:d=>c(h=>({...h,sortBy:d.target.value})),className:"text-sm border rounded-md px-2 py-1",children:fn.map(d=>s.jsx("option",{value:d.id,children:d.label},d.id))}),s.jsx(ee,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>c(d=>({...d,sortOrder:d.sortOrder==="asc"?"desc":"asc"})),children:o.sortOrder==="asc"?s.jsx(wa,{className:"w-4 h-4"}):s.jsx(ja,{className:"w-4 h-4"})})]})]}),(o.fileTypes.length>0||o.series.length>0||o.speakers.length>0||o.tags.length>0||o.statuses.length>0)&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.fileTypes.map(d=>s.jsxs(Y,{variant:"secondary",className:"gap-1",children:[d,s.jsx(K,{className:"w-3 h-3 cursor-pointer",onClick:()=>y(d)})]},d)),o.series.map(d=>s.jsxs(Y,{variant:"secondary",className:"gap-1",children:[s.jsx(ka,{className:"w-3 h-3"}),d,s.jsx(K,{className:"w-3 h-3 cursor-pointer",onClick:()=>g(d)})]},d)),o.speakers.map(d=>s.jsxs(Y,{variant:"secondary",className:"gap-1",children:[s.jsx(Ca,{className:"w-3 h-3"}),d,s.jsx(K,{className:"w-3 h-3 cursor-pointer",onClick:()=>w(d)})]},d)),o.tags.map(d=>s.jsxs(Y,{variant:"secondary",className:"gap-1",children:[s.jsx(We,{className:"w-3 h-3"}),d,s.jsx(K,{className:"w-3 h-3 cursor-pointer",onClick:()=>N(d)})]},d)),o.statuses.map(d=>s.jsxs(Y,{variant:"secondary",className:"gap-1",children:[d,s.jsx(K,{className:"w-3 h-3 cursor-pointer",onClick:()=>S(d)})]},d))]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[m.length," of ",e.length," files"]}),s.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:m.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(Oe,{className:"w-12 h-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No files found"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your search or filters"})]}):m.map(d=>{var j,k,C,P,F;const h=z(d.type);return s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-gray-50 transition-colors",children:[s.jsx(h,{className:"w-8 h-8 text-blue-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium truncate",children:d.name}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[((j=d.metadata)==null?void 0:j.speaker)&&s.jsx("span",{className:"text-xs text-gray-500",children:d.metadata.speaker}),((k=d.metadata)==null?void 0:k.series)&&s.jsxs("span",{className:"text-xs text-gray-400",children:["| ",d.metadata.series]}),s.jsx("span",{className:"text-xs text-gray-400",children:V(d.size)})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[$(((C=d.metadata)==null?void 0:C.status)||"uploaded"),(F=(P=d.metadata)==null?void 0:P.tags)==null?void 0:F.map(R=>s.jsx(Y,{variant:"outline",className:"text-[10px]",children:R},R))]})]},d.id)})})]})]})}export{bn as AdvancedSearch};
//# sourceMappingURL=AdvancedSearch-D6WEaOq0.js.map
