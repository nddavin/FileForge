{"version":3,"file":"RelationshipGraph-D7-SgeTt.js","sources":["../../src/app/components/RelationshipGraph.tsx"],"sourcesContent":["import React, { useState, useCallback, useMemo } from 'react';\nimport { useFileManager } from '@/contexts/FileManagerContext';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/app/components/ui/card';\nimport { Button } from '@/app/components/ui/button';\nimport { Badge } from '@/app/components/ui/badge';\nimport { Input } from '@/app/components/ui/input';\nimport { ScrollArea } from '@/app/components/ui/scroll-area';\nimport {\n  Search,\n  ZoomIn,\n  ZoomOut,\n  Maximize2,\n  Share2,\n  FileAudio,\n  FileVideo,\n  File as FileIcon,\n  Link2,\n  X,\n} from 'lucide-react';\nimport { cn } from '@/app/components/ui/utils';\n\ninterface FileNode {\n  id: string;\n  name: string;\n  type: string;\n  series?: string;\n  speaker?: string;\n  status?: string;\n  x: number;\n  y: number;\n}\n\ninterface FileEdge {\n  source: string;\n  target: string;\n  label?: string;\n  type: 'series' | 'related' | 'cross-reference';\n}\n\ninterface RelationshipGraphProps {\n  className?: string;\n}\n\n// Generate sample relationships based on file metadata\nfunction generateRelationships(files: any[]): { nodes: FileNode[]; edges: FileEdge[] } {\n  const nodes: FileNode[] = files.map((file, index) => ({\n    id: file.id,\n    name: file.name,\n    type: file.type,\n    series: file.metadata?.series,\n    speaker: file.metadata?.speaker,\n    status: file.metadata?.status,\n    x: 150 + (index % 4) * 200,\n    y: 100 + Math.floor(index / 4) * 150,\n  }));\n\n  const edges: FileEdge[] = [];\n  \n  // Generate series relationships\n  const seriesMap = new Map<string, string[]>();\n  files.forEach((file) => {\n    const series = file.metadata?.series;\n    if (series) {\n      if (!seriesMap.has(series)) {\n        seriesMap.set(series, []);\n      }\n      seriesMap.get(series)!.push(file.id);\n    }\n  });\n\n  seriesMap.forEach((fileIds) => {\n    for (let i = 0; i < fileIds.length - 1; i++) {\n      edges.push({\n        source: fileIds[i],\n        target: fileIds[i + 1],\n        label: 'Series',\n        type: 'series',\n      });\n    }\n  });\n\n  // Generate cross-references based on same speaker\n  const speakerMap = new Map<string, string[]>();\n  files.forEach((file) => {\n    const speaker = file.metadata?.speaker;\n    if (speaker) {\n      if (!speakerMap.has(speaker)) {\n        speakerMap.set(speaker, []);\n      }\n      speakerMap.get(speaker)!.push(file.id);\n    }\n  });\n\n  speakerMap.forEach((fileIds) => {\n    if (fileIds.length > 1) {\n      for (let i = 0; i < fileIds.length - 1; i++) {\n        // Only add if not already connected via series\n        const exists = edges.some(\n          (e) =>\n            (e.source === fileIds[i] && e.target === fileIds[i + 1]) ||\n            (e.source === fileIds[i + 1] && e.target === fileIds[i])\n        );\n        if (!exists) {\n          edges.push({\n            source: fileIds[i],\n            target: fileIds[i + 1],\n            label: 'Same Speaker',\n            type: 'cross-reference',\n          });\n        }\n      }\n    }\n  });\n\n  // Add some random related connections for demo\n  for (let i = 0; i < Math.min(files.length - 1, 3); i++) {\n    edges.push({\n      source: files[i].id,\n      target: files[i + 1].id,\n      label: 'Related',\n      type: 'related',\n    });\n  }\n\n  return { nodes, edges };\n}\n\nexport function RelationshipGraph({ className }: RelationshipGraphProps) {\n  const { files, loading } = useFileManager();\n  const [zoom, setZoom] = useState(1);\n  const [pan, setPan] = useState({ x: 0, y: 0 });\n  const [selectedNode, setSelectedNode] = useState<FileNode | null>(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [hoveredEdge, setHoveredEdge] = useState<FileEdge | null>(null);\n\n  const { nodes, edges } = useMemo(() => {\n    if (files.length === 0) {\n      return { nodes: [], edges: [] };\n    }\n    return generateRelationships(files);\n  }, [files]);\n\n  const filteredNodes = useMemo(() => {\n    if (!searchQuery) return nodes;\n    const query = searchQuery.toLowerCase();\n    return nodes.filter(\n      (node) =>\n        node.name.toLowerCase().includes(query) ||\n        node.series?.toLowerCase().includes(query) ||\n        node.speaker?.toLowerCase().includes(query)\n    );\n  }, [nodes, searchQuery]);\n\n  const handleZoomIn = useCallback(() => {\n    setZoom((prev) => Math.min(prev + 0.2, 2));\n  }, []);\n\n  const handleZoomOut = useCallback(() => {\n    setZoom((prev) => Math.max(prev - 0.2, 0.4));\n  }, []);\n\n  const handleReset = useCallback(() => {\n    setZoom(1);\n    setPan({ x: 0, y: 0 });\n  }, []);\n\n  const getFileIcon = (type: string) => {\n    if (type.startsWith('audio/')) return FileAudio;\n    if (type.startsWith('video/')) return FileVideo;\n    return FileIcon;\n  };\n\n  const getEdgeColor = (type: string) => {\n    switch (type) {\n      case 'series':\n        return '#3b82f6';\n      case 'cross-reference':\n        return '#8b5cf6';\n      case 'related':\n        return '#10b981';\n      default:\n        return '#6b7280';\n    }\n  };\n\n  const getNodePosition = (node: FileNode) => ({\n    x: node.x * zoom + pan.x,\n    y: node.y * zoom + pan.y,\n  });\n\n  if (loading) {\n    return (\n      <Card className={cn('', className)}>\n        <CardContent className=\"flex items-center justify-center h-96\">\n          <div className=\"text-lg text-gray-500\">Loading relationships...</div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (files.length === 0) {\n    return (\n      <Card className={cn('', className)}>\n        <CardContent className=\"flex flex-col items-center justify-center h-96\">\n          <Share2 className=\"w-16 h-16 text-gray-300 mb-4\" />\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No files to visualize</h3>\n          <p className=\"text-sm text-gray-500\">\n            Upload files with metadata to see their relationships\n          </p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card className={cn('overflow-hidden', className)}>\n      <CardHeader className=\"pb-3\">\n        <div className=\"flex items-center justify-between\">\n          <CardTitle className=\"text-lg\">File Relationships</CardTitle>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n              <Input\n                placeholder=\"Search files...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-9 w-48 h-8\"\n              />\n            </div>\n            <Button variant=\"outline\" size=\"icon\" onClick={handleZoomOut}>\n              <ZoomOut className=\"w-4 h-4\" />\n            </Button>\n            <span className=\"text-sm text-gray-500 min-w-[3rem] text-center\">\n              {Math.round(zoom * 100)}%\n            </span>\n            <Button variant=\"outline\" size=\"icon\" onClick={handleZoomIn}>\n              <ZoomIn className=\"w-4 h-4\" />\n            </Button>\n            <Button variant=\"outline\" size=\"icon\" onClick={handleReset}>\n              <Maximize2 className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-4 mt-2\">\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-3 h-0.5 bg-blue-500\" />\n            <span className=\"text-xs text-gray-500\">Series</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-3 h-0.5 bg-purple-500\" />\n            <span className=\"text-xs text-gray-500\">Cross-reference</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-3 h-0.5 bg-green-500\" />\n            <span className=\"text-xs text-gray-500\">Related</span>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"p-0\">\n        <div className=\"relative bg-gray-50 h-[500px] overflow-hidden\">\n          <svg className=\"w-full h-full\" viewBox=\"0 0 800 500\">\n            <g transform={`translate(${pan.x}, ${pan.y}) scale(${zoom})`}>\n              {/* Draw edges */}\n              {edges.map((edge, index) => {\n                const source = nodes.find((n) => n.id === edge.source);\n                const target = nodes.find((n) => n.id === edge.target);\n                if (!source || !target) return null;\n\n                const isHovered =\n                  hoveredEdge?.source === edge.source && hoveredEdge?.target === edge.target;\n                const sourcePos = getNodePosition(source);\n                const targetPos = getNodePosition(target);\n                const midX = (sourcePos.x + targetPos.x) / 2;\n                const midY = (sourcePos.y + targetPos.y) / 2;\n\n                return (\n                  <g key={`${edge.source}-${edge.target}-${index}`}>\n                    <line\n                      x1={sourcePos.x + 60}\n                      y1={sourcePos.y + 40}\n                      x2={targetPos.x + 60}\n                      y2={targetPos.y + 40}\n                      stroke={getEdgeColor(edge.type)}\n                      strokeWidth={isHovered ? 3 : 1.5}\n                      strokeOpacity={isHovered ? 1 : 0.5}\n                      className=\"transition-all cursor-pointer\"\n                      onMouseEnter={() => setHoveredEdge(edge)}\n                      onMouseLeave={() => setHoveredEdge(null)}\n                    />\n                    {isHovered && edge.label && (\n                      <g>\n                        <rect\n                          x={midX - 30}\n                          y={midY - 10}\n                          width={edge.label.length * 6 + 20}\n                          height={20}\n                          rx={4}\n                          fill=\"white\"\n                          stroke={getEdgeColor(edge.type)}\n                        />\n                        <text\n                          x={midX}\n                          y={midY + 4}\n                          textAnchor=\"middle\"\n                          fontSize={11}\n                          fill=\"#374151\"\n                        >\n                          {edge.label}\n                        </text>\n                      </g>\n                    )}\n                  </g>\n                );\n              })}\n\n              {/* Draw nodes */}\n              {filteredNodes.map((node) => {\n                const Icon = getFileIcon(node.type);\n                const pos = getNodePosition(node);\n                const isSelected = selectedNode?.id === node.id;\n\n                return (\n                  <g\n                    key={node.id}\n                    transform={`translate(${pos.x}, ${pos.y})`}\n                    className=\"cursor-pointer transition-all\"\n                    onClick={() => setSelectedNode(isSelected ? null : node)}\n                  >\n                    <rect\n                      width={120}\n                      height={80}\n                      rx={8}\n                      fill=\"white\"\n                      stroke={isSelected ? '#3b82f6' : '#e5e7eb'}\n                      strokeWidth={isSelected ? 2 : 1}\n                      className=\"shadow-sm\"\n                    />\n                    <foreignObject width={120} height={80}>\n                      <div className=\"p-3 flex flex-col h-full\">\n                        <div className=\"flex items-center gap-2\">\n                          <Icon className=\"w-5 h-5 text-blue-500 flex-shrink-0\" />\n                          <span className=\"text-xs font-medium truncate flex-1\">\n                            {node.name}\n                          </span>\n                        </div>\n                        {node.series && (\n                          <Badge variant=\"secondary\" className=\"mt-1 text-[10px] h-5\">\n                            {node.series}\n                          </Badge>\n                        )}\n                        {node.speaker && (\n                          <span className=\"text-[10px] text-gray-500 mt-1\">\n                            {node.speaker}\n                          </span>\n                        )}\n                      </div>\n                    </foreignObject>\n                  </g>\n                );\n              })}\n            </g>\n          </svg>\n\n          {/* Selected node details */}\n          {selectedNode && (\n            <div className=\"absolute bottom-4 left-4 bg-white rounded-lg shadow-lg p-4 w-64\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h4 className=\"font-medium text-sm\">File Details</h4>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-6 w-6\"\n                  onClick={() => setSelectedNode(null)}\n                >\n                  <X className=\"w-4 h-4\" />\n                </Button>\n              </div>\n              <p className=\"text-sm font-medium truncate\">{selectedNode.name}</p>\n              {selectedNode.series && (\n                <p className=\"text-xs text-gray-500 mt-1\">Series: {selectedNode.series}</p>\n              )}\n              {selectedNode.speaker && (\n                <p className=\"text-xs text-gray-500 mt-1\">Speaker: {selectedNode.speaker}</p>\n              )}\n              <p className=\"text-xs text-gray-500 mt-1\">Status: {selectedNode.status || 'N/A'}</p>\n              <div className=\"flex items-center gap-2 mt-3\">\n                <Button variant=\"outline\" size=\"sm\" className=\"text-xs\">\n                  <Link2 className=\"w-3 h-3 mr-1\" />\n                  View File\n                </Button>\n              </div>\n            </div>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":["generateRelationships","files","nodes","file","index","_a","_b","_c","edges","seriesMap","series","fileIds","i","speakerMap","speaker","e","RelationshipGraph","className","loading","useFileManager","zoom","setZoom","useState","pan","setPan","selectedNode","setSelectedNode","searchQuery","setSearchQuery","hoveredEdge","setHoveredEdge","useMemo","filteredNodes","query","node","handleZoomIn","useCallback","prev","handleZoomOut","handleReset","getFileIcon","type","FileAudio","FileVideo","FileIcon","getEdgeColor","getNodePosition","Card","cn","jsx","CardContent","jsxs","Share2","CardHeader","CardTitle","Search","Input","Button","ZoomOut","ZoomIn","Maximize2","edge","source","n","target","isHovered","sourcePos","targetPos","midX","midY","Icon","pos","isSelected","Badge","X","Link2"],"mappings":"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"}